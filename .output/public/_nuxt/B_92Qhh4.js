import{s as ee}from"./BIrX7Mvq.js";import{j as R,c as P,o as _,a as j,ay as te,g as z,r as S,y as k,aH as D,aj as V,ai as O,aw as Y,ad as ae,P as ne,af as F,G as oe,ab as se,ac as re,aS as le,aT as ie,b as s,as as J,aR as ce,aD as ue,aW as H,a9 as de,n as E,k as X,l as fe,aC as me,z as ve,s as he,ak as pe,ax as ge,I as q,am as w,w as b,U as l,J as xe,d as $,t as N,bg as be,D as G}from"./DX7L8mW0.js";import{u as ye}from"./B_Wp1ia-.js";import{a as Ce}from"./DRbOzoBI.js";import{c as _e}from"./DVrzjvSN.js";import{u as ke,r as we}from"./CQxdcAm9.js";import{a as Pe,B as Te,I as Be}from"./ZaMcrE34.js";import{u as Se}from"./CYA1mnle.js";import{u as $e}from"./DsvMEa2q.js";import{P as Ne}from"./BjXAueyg.js";import{P as Re,C as Ie,G as Ae,S as Ve}from"./B5Qkw76r.js";import{_ as Oe}from"./DlAUqK2U.js";import"./DlD6u9LM.js";import"./DkQH-hTN.js";import"./B5QHbL8n.js";function U(e,r){return e.reduce((t,y)=>Math.abs(t-r)<Math.abs(y-r)?t:y)}const Me={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},je=R({name:"PlusRound",render:function(r,t){return _(),P("svg",Me,t[0]||(t[0]=[j("path",{d:"M18 12.998h-5v5a1 1 0 0 1-2 0v-5H6a1 1 0 0 1 0-2h5v-5a1 1 0 0 1 2 0v5h5a1 1 0 0 1 0 2z",fill:"currentColor"},null,-1)]))}}),De={gap:{type:[Number,Object],default:24},icon:String,axis:te("y"),magnetic:String,offset:{type:Object,default:()=>({x:-1,y:-1})},teleport:{type:[String,Object],default:"body"}},[Ee,L]=z("floating-bubble");var ze=R({name:Ee,inheritAttrs:!1,props:De,emits:["click","update:offset","offsetChange"],setup(e,{slots:r,emit:t,attrs:y}){const g=S(),o=S({x:0,y:0,width:0,height:0}),x=k(()=>D(e.gap)?e.gap.x:e.gap),v=k(()=>D(e.gap)?e.gap.y:e.gap),h=k(()=>({top:v.value,right:O.value-o.value.width-x.value,bottom:V.value-o.value.height-v.value,left:x.value})),u=S(!1);let p=!1;const i=k(()=>{const a={},B=Y(o.value.x),m=Y(o.value.y);return a.transform=`translate3d(${B}, ${m}, 0)`,(u.value||!p)&&(a.transition="none"),a}),n=()=>{if(!A.value)return;const{width:a,height:B}=ue(g.value),{offset:m}=e;o.value={x:m.x>-1?m.x:O.value-a-x.value,y:m.y>-1?m.y:V.value-B-v.value,width:a,height:B}},d=Se();let f=0,c=0;const T=a=>{d.start(a),u.value=!0,f=o.value.x,c=o.value.y};ae("touchmove",a=>{if(a.preventDefault(),d.move(a),e.axis!=="lock"&&!d.isTap.value){if(e.axis==="x"||e.axis==="xy"){let m=f+d.deltaX.value;m<h.value.left&&(m=h.value.left),m>h.value.right&&(m=h.value.right),o.value.x=m}if(e.axis==="y"||e.axis==="xy"){let m=c+d.deltaY.value;m<h.value.top&&(m=h.value.top),m>h.value.bottom&&(m=h.value.bottom),o.value.y=m}const B=H(o.value,["x","y"]);t("update:offset",B)}},{target:g});const C=()=>{u.value=!1,F(()=>{if(e.magnetic==="x"){const a=U([h.value.left,h.value.right],o.value.x);o.value.x=a}if(e.magnetic==="y"){const a=U([h.value.top,h.value.bottom],o.value.y);o.value.y=a}if(!d.isTap.value){const a=H(o.value,["x","y"]);t("update:offset",a),(f!==a.x||c!==a.y)&&t("offsetChange",a)}})},Q=a=>{d.isTap.value?t("click",a):a.stopPropagation()};ne(()=>{n(),F(()=>{p=!0})}),oe([O,V,x,v,()=>e.offset],n,{deep:!0});const A=S(!0);return se(()=>{A.value=!0}),re(()=>{e.teleport&&(A.value=!1)}),()=>{const a=le(s("div",J({class:L(),ref:g,onTouchstartPassive:T,onTouchend:C,onTouchcancel:C,onClickCapture:Q,style:i.value},y),[r.default?r.default():s(Pe,{name:e.icon,class:L("icon")},null)]),[[ie,A.value]]);return e.teleport?s(ce,{to:e.teleport},{default:()=>[a]}):a}}});const[K,W]=z("tabbar"),Ye={route:Boolean,fixed:X,border:X,zIndex:E,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:de(0),safeAreaInsetBottom:{type:Boolean,default:null}},Z=Symbol(K);var Fe=R({name:K,props:Ye,emits:["change","update:modelValue"],setup(e,{emit:r,slots:t}){const y=S(),{linkChildren:g}=fe(Z),o=ye(y,W),x=()=>{var u;return(u=e.safeAreaInsetBottom)!=null?u:e.fixed},v=()=>{var u;const{fixed:p,zIndex:i,border:n}=e;return s("div",{ref:y,role:"tablist",style:me(i),class:[W({fixed:p}),{[Ce]:n,"van-safe-area-bottom":x()}]},[(u=t.default)==null?void 0:u.call(t)])};return g({props:e,setActive:(u,p)=>{_e(e.beforeChange,{args:[u],done(){r("update:modelValue",u),r("change",u),p()}})}}),()=>e.fixed&&e.placeholder?o(v):v()}});const[He,M]=z("tabbar-item"),Xe=ve({},we,{dot:Boolean,icon:String,name:E,badge:E,badgeProps:Object,iconPrefix:String});var qe=R({name:He,props:Xe,emits:["click"],setup(e,{emit:r,slots:t}){const y=ke(),g=he().proxy,{parent:o,index:x}=pe(Z);if(!o)return;const v=k(()=>{var p;const{route:i,modelValue:n}=o.props;if(i&&"$route"in g){const{$route:d}=g,{to:f}=e,c=D(f)?f:{path:f};return d.matched.some(T=>{const I="path"in c&&c.path===T.path,C="name"in c&&c.name===T.name;return I||C})}return((p=e.name)!=null?p:x.value)===n}),h=p=>{var i;v.value||o.setActive((i=e.name)!=null?i:x.value,y),r("click",p)},u=()=>{if(t.icon)return t.icon({active:v.value});if(e.icon)return s(Be,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var p;const{dot:i,badge:n}=e,{activeColor:d,inactiveColor:f}=o.props,c=v.value?d:f;return s("div",{role:"tab",class:M({active:v.value}),style:{color:c},tabindex:0,"aria-selected":v.value,onClick:h},[s(Te,J({dot:i,class:M("icon"),content:n},e.badgeProps),{default:u}),s("div",{class:M("text")},[(p=t.default)==null?void 0:p.call(t,{active:v.value})])])}}});const Ge={key:0},Ue={style:{"margin-top":"46px","margin-bottom":"48px"}},Le={class:"fab-wrapper"},We=R({__name:"application",setup(e){const r=ge(),t=$e(),y=k(()=>["/landing","/prayers","/churches","/contacts","/communities","/settings"].includes(r.path)),g=S(!1),o=()=>g.value=!g.value,x=i=>{g.value=!1,G({path:"/createForm",query:{moduleName:i}})},v=k(()=>{const i=r.name?r.name:"",n=r.query.id!==void 0,d=r.query.moduleName;let f=i[0].toUpperCase()+i.slice(1);f==="Create"&&(n?f="Edit"+(d?" "+d:""):f+=d?" "+d:"");let c=t.translate(t.toSnakeCase(f));return f=="Settings-profile"&&(c=t.translate("profile")),{raw:f,translated:c}}),h={handle:{click:{btnAddNew:()=>{G({path:"/createForm",query:{moduleName:v.value.raw}})}}}},u=k(()=>{const i=["Contacts","Churches","Communities"],n=r.name?r.name:"";return i.includes(n)}),p=k(()=>r.name==="Create"?!0:r.path.split("/").length>2);return(i,n)=>{const d=ee,f=xe,c=qe,T=Fe,I=ze;return _(),P("div",null,[s(d,{fixed:"","left-arrow":l(p),title:l(v).translated,onClickLeft:n[0]||(n[0]=()=>i.$router.back()),onClickRight:n[1]||(n[1]=C=>l(u)?h.handle.click.btnAddNew():void 0),style:{"z-index":"999"}},{right:b(()=>[l(u)?(_(),P("span",Ge,[s(l(je),{style:{width:"24px",height:"24px"}})])):w("",!0)]),_:1},8,["left-arrow","title"]),j("div",Ue,[s(f)]),l(p)?w("",!0):(_(),q(T,{key:0,fixed:"",route:""},{default:b(()=>[s(c,{replace:"",to:"/prayers"},{icon:b(()=>[s(l(Ne),{style:{width:"18px",height:"18px"}})]),default:b(()=>[$(" "+N(l(t).translate("prayers")),1)]),_:1}),s(c,{replace:"",to:"/contacts"},{icon:b(()=>[s(l(Re),{style:{width:"18px",height:"18px"}})]),default:b(()=>[$(" "+N(l(t).translate("contacts")),1)]),_:1}),s(c,{replace:"",to:"/churches"},{icon:b(()=>[s(l(Ie),{style:{width:"18px",height:"18px"}})]),default:b(()=>[$(" "+N(l(t).translate("churches")),1)]),_:1}),s(c,{replace:"",to:"/communities"},{icon:b(()=>[s(l(Ae),{style:{width:"18px",height:"18px"}})]),default:b(()=>[$(" "+N(l(t).translate("communities")),1)]),_:1}),s(c,{replace:"",to:"/settings"},{icon:b(()=>[s(l(Ve),{style:{width:"18px",height:"18px"}})]),default:b(()=>[$(" "+N(l(t).translate("settings")),1)]),_:1})]),_:1})),j("div",Le,[l(y)?(_(),q(I,{key:0,axis:"lock",icon:"plus",gap:{x:20,y:80},class:"fab-main",onClick:o})):w("",!0),s(be,{name:"fab"},{default:b(()=>[l(g)?(_(),P("div",{class:"fab-action",key:"prayers",onClick:n[2]||(n[2]=C=>x("Prayers"))}," Prayers ")):w("",!0),l(g)?(_(),P("div",{class:"fab-action",key:"contacts",onClick:n[3]||(n[3]=C=>x("Contacts"))}," Contact ")):w("",!0),l(g)?(_(),P("div",{class:"fab-action",key:"churches",onClick:n[4]||(n[4]=C=>x("Churches"))}," Church ")):w("",!0),l(g)?(_(),P("div",{class:"fab-action",key:"communities",onClick:n[5]||(n[5]=C=>x("Communities"))}," Community ")):w("",!0)]),_:1})])])}}}),dt=Oe(We,[["__scopeId","data-v-15a90854"]]);export{dt as default};
