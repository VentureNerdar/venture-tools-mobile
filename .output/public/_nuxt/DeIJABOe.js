import{s as se}from"./0pvGEDWg.js";import{s as ze,p as Xe}from"./DllOZ5kY.js";import{p as bt,P as vt,a as yt,b as Ae}from"./DYh-pV2H.js";import{s as ue}from"./BnmBTv-t.js";import{g as q,G as de,q as ne,b as o,an as ie,ao as we,y as R,z as Ve,aD as Ge,ab as Ce,B as K,A as Le,az as ge,ak as Ne,k as W,aE as xe,m as M,s as J,ae as gt,ag as ae,E as Qe,aF as et,ay as kt,ap as Vt,ah as Me,a2 as Ct,M as Pt,H as he,am as ke,aG as wt,aH as Ke,aI as Ue,D as pe,aJ as xt,av as Fe,aK as We,aL as St,aM as $t,r as ce,v as Y,o as N,l as e,w as m,c as L,F as ee,n as te,d as E,t as G,aA as Oe,x as Dt,aN as Se,I as Ee,a as A,aB as H,V as Ut}from"./DSRRTXY0.js";import{I as Pe,s as tt}from"./BcQqayPu.js";import{s as _e}from"./MteXtcWH.js";import{u as $e}from"./BgJQGM5x.js";import{s as me}from"./ur_VACmx.js";import{a as Ft,s as De}from"./BgwYbSe2.js";import{L as It}from"./DZMPMdYR.js";import{H as Be,F as Nt,L as Mt}from"./DfeQPru4.js";import"./CX4x1NNd.js";import{u as le}from"./X9qNQbWD.js";import{w as Bt}from"./BrLGy7Au.js";/* empty css        *//* empty css        */import{u as zt}from"./Dbq6bm_i.js";import{a as At,u as Gt}from"./BwoUp0gk.js";import{u as Lt}from"./BqMzlbta.js";import{u as X,R as Q}from"./CAZ3tvf_.js";import{u as qe}from"./DRHNE0eS.js";import{s as Ot}from"./CLXtyuru.js";import{_ as Te}from"./DlAUqK2U.js";import{c as Et}from"./Cjyzoxt_.js";import{s as Re}from"./DvSQenAE.js";import"./BVuLz1V8.js";import"./C7GL2vS7.js";import"./CX1sPtrm.js";import"./2_l4ffRN.js";import"./CezKD8Jt.js";import"./Do6VGs8u.js";import"./BfP4sV-O.js";const[qt,Z]=ne("action-sheet"),Tt=de({},yt,{title:String,round:R,actions:Ge(),closeIcon:Ve("cross"),closeable:R,cancelText:String,description:String,closeOnPopstate:R,closeOnClickAction:Boolean,safeAreaInsetBottom:R}),Rt=[...bt,"round","closeOnPopstate","safeAreaInsetBottom"];var Yt=q({name:qt,props:Tt,emits:["select","cancel","update:show"],setup(t,{slots:_,emit:b}){const f=g=>b("update:show",g),y=()=>{f(!1),b("cancel")},n=()=>{if(t.title)return o("div",{class:Z("header")},[t.title,t.closeable&&o(Pe,{name:t.closeIcon,class:[Z("close"),Be],onClick:y},null)])},a=()=>{if(_.cancel||t.cancelText)return[o("div",{class:Z("gap")},null),o("button",{type:"button",class:Z("cancel"),onClick:y},[_.cancel?_.cancel():t.cancelText])]},h=g=>{if(g.icon)return o(Pe,{class:Z("item-icon"),name:g.icon},null)},i=(g,k)=>g.loading?o(It,{class:Z("loading-icon")},null):_.action?_.action({action:g,index:k}):[o("span",{class:Z("name")},[g.name]),g.subname&&o("div",{class:Z("subname")},[g.subname])],P=(g,k)=>{const{color:F,loading:u,callback:l,disabled:r,className:c}=g,U=()=>{r||u||(l&&l(g),t.closeOnClickAction&&f(!1),Ce(()=>b("select",g,k)))};return o("button",{type:"button",style:{color:F},class:[Z("item",{loading:u,disabled:r}),c],onClick:U},[h(g),i(g,k)])},x=()=>{if(t.description||_.description){const g=_.description?_.description():t.description;return o("div",{class:Z("description")},[g])}};return()=>o(vt,ie({class:Z(),position:"bottom","onUpdate:show":f},we(t,Rt)),{default:()=>{var g;return[n(),x(),o("div",{class:Z("content")},[t.actions.map(P),(g=_.default)==null?void 0:g.call(_)]),a()]}})}});const Jt=Bt(ze),[jt,Ht]=ne("form"),Kt={colon:Boolean,disabled:Boolean,readonly:Boolean,required:[Boolean,String],showError:Boolean,labelWidth:K,labelAlign:String,inputAlign:String,scrollToError:Boolean,scrollToErrorPosition:String,validateFirst:Boolean,submitOnEnter:R,showErrorMessage:R,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};var ot=q({name:jt,props:Kt,emits:["submit","failed"],setup(t,{emit:_,slots:b}){const{children:f,linkChildren:y}=Le(Nt),n=r=>r?f.filter(c=>r.includes(c.name)):f,a=r=>new Promise((c,U)=>{const C=[];n(r).reduce(($,I)=>$.then(()=>{if(!C.length)return I.validate().then(O=>{O&&C.push(O)})}),Promise.resolve()).then(()=>{C.length?U(C):c()})}),h=r=>new Promise((c,U)=>{const C=n(r);Promise.all(C.map(p=>p.validate())).then(p=>{p=p.filter(Boolean),p.length?U(p):c()})}),i=r=>{const c=f.find(U=>U.name===r);return c?new Promise((U,C)=>{c.validate().then(p=>{p?C(p):U()})}):Promise.reject()},P=r=>typeof r=="string"?i(r):t.validateFirst?a(r):h(r),x=r=>{typeof r=="string"&&(r=[r]),n(r).forEach(U=>{U.resetValidation()})},g=()=>f.reduce((r,c)=>(r[c.name]=c.getValidationStatus(),r),{}),k=(r,c)=>{f.some(U=>U.name===r?(U.$el.scrollIntoView(c),!0):!1)},F=()=>f.reduce((r,c)=>(c.name!==void 0&&(r[c.name]=c.formValue.value),r),{}),u=()=>{const r=F();P().then(()=>_("submit",r)).catch(c=>{_("failed",{values:r,errors:c});const{scrollToError:U,scrollToErrorPosition:C}=t;U&&c[0].name&&k(c[0].name,C?{block:C}:void 0)})},l=r=>{ge(r),u()};return y({props:t}),$e({submit:u,validate:P,getValues:F,scrollToField:k,resetValidation:x,getValidationStatus:g}),()=>{var r;return o("form",{class:Ht(),onSubmit:l},[(r=b.default)==null?void 0:r.call(b)])}}});const[lt,Wt]=ne("radio-group"),Zt={shape:String,disabled:Boolean,iconSize:K,direction:String,modelValue:Ne,checkedColor:String},nt=Symbol(lt);var Xt=q({name:lt,props:Zt,emits:["change","update:modelValue"],setup(t,{emit:_,slots:b}){const{linkChildren:f}=Le(nt),y=n=>_("update:modelValue",n);return W(()=>t.modelValue,n=>_("change",n)),f({props:t,updateValue:y}),xe(()=>t.modelValue),()=>{var n;return o("div",{class:Wt([t.direction]),role:"radiogroup"},[(n=b.default)==null?void 0:n.call(b)])}}});const[at,Qt]=ne("checkbox-group"),eo={max:K,shape:Ve("round"),disabled:Boolean,iconSize:K,direction:String,modelValue:Ge(),checkedColor:String},it=Symbol(at);var rt=q({name:at,props:eo,emits:["change","update:modelValue"],setup(t,{emit:_,slots:b}){const{children:f,linkChildren:y}=Le(it),n=h=>_("update:modelValue",h),a=(h={})=>{typeof h=="boolean"&&(h={checked:h});const{checked:i,skipDisabled:P}=h,g=f.filter(k=>k.props.bindGroup?k.props.disabled&&P?k.checked.value:i??!k.checked.value:!1).map(k=>k.name);n(g)};return W(()=>t.modelValue,h=>_("change",h)),$e({toggleAll:a}),xe(()=>t.modelValue),y({props:t,updateValue:n}),()=>{var h;return o("div",{class:Qt([t.direction])},[(h=b.default)==null?void 0:h.call(b)])}}});const Ye={name:Ne,disabled:Boolean,iconSize:K,modelValue:Ne,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var st=q({props:de({},Ye,{bem:gt(Function),role:String,shape:String,parent:Object,checked:Boolean,bindGroup:R,indeterminate:{type:Boolean,default:null}}),emits:["click","toggle"],setup(t,{emit:_,slots:b}){const f=M(),y=k=>{if(t.parent&&t.bindGroup)return t.parent.props[k]},n=J(()=>{if(t.parent&&t.bindGroup){const k=y("disabled")||t.disabled;if(t.role==="checkbox"){const F=y("modelValue").length,u=y("max"),l=u&&F>=+u;return k||l&&!t.checked}return k}return t.disabled}),a=J(()=>y("direction")),h=J(()=>{const k=t.checkedColor||y("checkedColor");if(k&&t.checked&&!n.value)return{borderColor:k,backgroundColor:k}}),i=J(()=>t.shape||y("shape")||"round"),P=k=>{const{target:F}=k,u=f.value,l=u===F||(u==null?void 0:u.contains(F));!n.value&&(l||!t.labelDisabled)&&_("toggle"),_("click",k)},x=()=>{var k,F;const{bem:u,checked:l,indeterminate:r}=t,c=t.iconSize||y("iconSize");return o("div",{ref:f,class:u("icon",[i.value,{disabled:n.value,checked:l,indeterminate:r}]),style:i.value!=="dot"?{fontSize:ae(c)}:{width:ae(c),height:ae(c),borderColor:(k=h.value)==null?void 0:k.borderColor}},[b.icon?b.icon({checked:l,disabled:n.value}):i.value!=="dot"?o(Pe,{name:r?"minus":"success",style:h.value},null):o("div",{class:u("icon--dot__icon"),style:{backgroundColor:(F=h.value)==null?void 0:F.backgroundColor}},null)])},g=()=>{const{checked:k}=t;if(b.default)return o("span",{class:t.bem("label",[t.labelPosition,{disabled:n.value}])},[b.default({checked:k,disabled:n.value})])};return()=>{const k=t.labelPosition==="left"?[g(),x()]:[x(),g()];return o("div",{role:t.role,class:t.bem([{disabled:n.value,"label-disabled":t.labelDisabled},a.value]),tabindex:n.value?void 0:0,"aria-checked":t.checked,onClick:P},[k])}}});const to=de({},Ye,{shape:String}),[oo,lo]=ne("radio");var no=q({name:oo,props:to,emits:["update:modelValue"],setup(t,{emit:_,slots:b}){const{parent:f}=Qe(nt),y=()=>(f?f.props.modelValue:t.modelValue)===t.name,n=()=>{f?f.updateValue(t.name):_("update:modelValue",t.name)};return()=>o(st,ie({bem:lo,role:"radio",parent:f,checked:y(),onToggle:n},t),we(b,["default","icon"]))}});const[ao,io]=ne("checkbox"),ro=de({},Ye,{shape:String,bindGroup:R,indeterminate:{type:Boolean,default:null}});var ut=q({name:ao,props:ro,emits:["change","update:modelValue"],setup(t,{emit:_,slots:b}){const{parent:f}=Qe(it),y=h=>{const{name:i}=t,{max:P,modelValue:x}=f.props,g=x.slice();if(h)!(P&&g.length>=+P)&&!g.includes(i)&&(g.push(i),t.bindGroup&&f.updateValue(g));else{const k=g.indexOf(i);k!==-1&&(g.splice(k,1),t.bindGroup&&f.updateValue(g))}},n=J(()=>f&&t.bindGroup?f.props.modelValue.indexOf(t.name)!==-1:!!t.modelValue),a=(h=!n.value)=>{f&&t.bindGroup?y(h):_("update:modelValue",h),t.indeterminate!==null&&_("change",h)};return W(()=>t.modelValue,h=>{t.indeterminate===null&&_("change",h)}),$e({toggle:a,props:t,checked:n}),xe(()=>t.modelValue),()=>o(st,ie({bem:io,role:"checkbox",parent:f,checked:n.value,onToggle:a},t),we(b,["default","icon"]))}});const so=de({},Xe,{modelValue:Ge(),filter:Function,formatter:{type:Function,default:(t,_)=>_}}),uo=Object.keys(Xe);function co(t,_){if(t<0)return[];const b=Array(t);let f=-1;for(;++f<t;)b[f]=_(f);return b}const mo=(t,_)=>32-new Date(t,_-1,32).getDate(),Ie=(t,_,b,f,y,n)=>{const a=co(_-t+1,h=>{const i=et(t+h);return f(b,{text:i,value:i})});return y?y(b,a,n):a},fo=(t,_)=>t.map((b,f)=>{const y=_[f];if(y.length){const n=+y[0].value,a=+y[y.length-1].value;return et(kt(+b,n,a))}return b}),[po,re]=ne("image"),ho={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:K,height:K,radius:K,lazyLoad:Boolean,iconSize:K,showError:R,errorIcon:Ve("photo-fail"),iconPrefix:String,showLoading:R,loadingIcon:Ve("photo"),crossorigin:String,referrerpolicy:String};var _o=q({name:po,props:ho,emits:["load","error"],setup(t,{emit:_,slots:b}){const f=M(!1),y=M(!0),n=M(),{$Lazyload:a}=Vt().proxy,h=J(()=>{const r={width:ae(t.width),height:ae(t.height)};return Me(t.radius)&&(r.overflow="hidden",r.borderRadius=ae(t.radius)),r});W(()=>t.src,()=>{f.value=!1,y.value=!0});const i=r=>{y.value&&(y.value=!1,_("load",r))},P=()=>{const r=new Event("load");Object.defineProperty(r,"target",{value:n.value,enumerable:!0}),i(r)},x=r=>{f.value=!0,y.value=!1,_("error",r)},g=(r,c,U)=>U?U():o(Pe,{name:r,size:t.iconSize,class:c,classPrefix:t.iconPrefix},null),k=()=>{if(y.value&&t.showLoading)return o("div",{class:re("loading")},[g(t.loadingIcon,re("loading-icon"),b.loading)]);if(f.value&&t.showError)return o("div",{class:re("error")},[g(t.errorIcon,re("error-icon"),b.error)])},F=()=>{if(f.value||!t.src)return;const r={alt:t.alt,class:re("img"),style:{objectFit:t.fit,objectPosition:t.position},crossorigin:t.crossorigin,referrerpolicy:t.referrerpolicy};return t.lazyLoad?ke(o("img",ie({ref:n},r),null),[[wt("lazy"),t.src]]):o("img",ie({ref:n,src:t.src,onLoad:i,onError:x},r),null)},u=({el:r})=>{const c=()=>{r===n.value&&y.value&&P()};n.value?c():Ce(c)},l=({el:r})=>{r===n.value&&!f.value&&x()};return a&&Ct&&(a.$on("loaded",u),a.$on("error",l),Pt(()=>{a.$off("loaded",u),a.$off("error",l)})),he(()=>{Ce(()=>{var r;(r=n.value)!=null&&r.complete&&!t.lazyLoad&&P()})}),()=>{var r;return o("div",{class:re({round:t.round,block:t.block}),style:h.value},[F(),k(),(r=b.default)==null?void 0:r.call(b)])}}});const Ze=new Date().getFullYear(),[bo]=ne("date-picker"),vo=de({},so,{columnsType:{type:Array,default:()=>["year","month","day"]},minDate:{type:Date,default:()=>new Date(Ze-10,0,1),validator:Ke},maxDate:{type:Date,default:()=>new Date(Ze+10,11,31),validator:Ke}});var dt=q({name:bo,props:vo,emits:["confirm","cancel","change","update:modelValue"],setup(t,{emit:_,slots:b}){const f=M(t.modelValue),y=M(!1),n=M(),a=J(()=>y.value?t.modelValue:f.value),h=$=>$===t.minDate.getFullYear(),i=$=>$===t.maxDate.getFullYear(),P=$=>$===t.minDate.getMonth()+1,x=$=>$===t.maxDate.getMonth()+1,g=$=>{const{minDate:I,columnsType:O}=t,w=O.indexOf($),s=a.value[w];if(s)return+s;switch($){case"year":return I.getFullYear();case"month":return I.getMonth()+1;case"day":return I.getDate()}},k=()=>{const $=t.minDate.getFullYear(),I=t.maxDate.getFullYear();return Ie($,I,"year",t.formatter,t.filter,a.value)},F=()=>{const $=g("year"),I=h($)?t.minDate.getMonth()+1:1,O=i($)?t.maxDate.getMonth()+1:12;return Ie(I,O,"month",t.formatter,t.filter,a.value)},u=()=>{const $=g("year"),I=g("month"),O=h($)&&P(I)?t.minDate.getDate():1,w=i($)&&x(I)?t.maxDate.getDate():mo($,I);return Ie(O,w,"day",t.formatter,t.filter,a.value)},l=()=>{var $;return($=n.value)==null?void 0:$.confirm()},r=()=>f.value,c=J(()=>t.columnsType.map($=>{switch($){case"year":return k();case"month":return F();case"day":return u();default:return[]}}));W(f,$=>{Ue($,t.modelValue)||_("update:modelValue",$)}),W(()=>t.modelValue,($,I)=>{y.value=Ue(I,f.value),$=fo($,c.value),Ue($,f.value)||(f.value=$),y.value=!1},{immediate:!0});const U=(...$)=>_("change",...$),C=(...$)=>_("cancel",...$),p=(...$)=>_("confirm",...$);return $e({confirm:l,getSelectedDate:r}),()=>o(Jt,ie({ref:n,modelValue:f.value,"onUpdate:modelValue":$=>f.value=$,columns:c.value,onChange:U,onCancel:C,onConfirm:p},we(t,uo)),b)}});const[yo,ve]=ne("stepper"),go=200,ye=(t,_)=>String(t)===String(_),ko={min:pe(1),max:pe(1/0),name:pe(""),step:pe(1),theme:String,integer:Boolean,disabled:Boolean,showPlus:R,showMinus:R,showInput:R,longPress:R,autoFixed:R,allowEmpty:Boolean,modelValue:K,inputWidth:K,buttonSize:K,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,beforeChange:Function,defaultValue:pe(1),decimalLength:K};var Vo=q({name:yo,props:ko,emits:["plus","blur","minus","focus","change","overlimit","update:modelValue"],setup(t,{emit:_}){const b=(w,s=!0)=>{const{min:z,max:j,allowEmpty:D,decimalLength:S}=t;return D&&w===""||(w=We(String(w),!t.integer),w=w===""?0:+w,w=Number.isNaN(w)?+z:w,w=s?Math.max(Math.min(+j,w),+z):w,Me(S)&&(w=w.toFixed(+S))),w},f=()=>{var w;const s=(w=t.modelValue)!=null?w:t.defaultValue,z=b(s);return ye(z,t.modelValue)||_("update:modelValue",z),z};let y;const n=M(),a=M(f()),h=J(()=>t.disabled||t.disableMinus||+a.value<=+t.min),i=J(()=>t.disabled||t.disablePlus||+a.value>=+t.max),P=J(()=>({width:ae(t.inputWidth),height:ae(t.buttonSize)})),x=J(()=>xt(t.buttonSize)),g=()=>{const w=b(a.value);ye(w,a.value)||(a.value=w)},k=w=>{t.beforeChange?Et(t.beforeChange,{args:[w],done(){a.value=w}}):a.value=w},F=()=>{if(y==="plus"&&i.value||y==="minus"&&h.value){_("overlimit",y);return}const w=y==="minus"?-t.step:+t.step,s=b($t(+a.value,w));k(s),_(y)},u=w=>{const s=w.target,{value:z}=s,{decimalLength:j}=t;let D=We(String(z),!t.integer);if(Me(j)&&D.includes(".")){const d=D.split(".");D=`${d[0]}.${d[1].slice(0,+j)}`}t.beforeChange?s.value=String(a.value):ye(z,D)||(s.value=D);const S=D===String(+D);k(S?+D:D)},l=w=>{var s;t.disableInput?(s=n.value)==null||s.blur():_("focus",w)},r=w=>{const s=w.target,z=b(s.value,t.autoFixed);s.value=String(z),a.value=z,Ce(()=>{_("blur",w),St()})};let c,U;const C=()=>{U=setTimeout(()=>{F(),C()},go)},p=()=>{t.longPress&&(c=!1,clearTimeout(U),U=setTimeout(()=>{c=!0,F(),C()},Mt))},$=w=>{t.longPress&&(clearTimeout(U),c&&ge(w))},I=w=>{t.disableInput&&ge(w)},O=w=>({onClick:s=>{ge(s),y=w,F()},onTouchstartPassive:()=>{y=w,p()},onTouchend:$,onTouchcancel:$});return W(()=>[t.max,t.min,t.integer,t.decimalLength],g),W(()=>t.modelValue,w=>{ye(w,a.value)||(a.value=b(w))}),W(a,w=>{_("update:modelValue",w),_("change",w,{name:t.name})}),xe(()=>t.modelValue),()=>o("div",{role:"group",class:ve([t.theme])},[ke(o("button",ie({type:"button",style:x.value,class:[ve("minus",{disabled:h.value}),{[Be]:!h.value}],"aria-disabled":h.value||void 0},O("minus")),null),[[Fe,t.showMinus]]),ke(o("input",{ref:n,type:t.integer?"tel":"text",role:"spinbutton",class:ve("input"),value:a.value,style:P.value,disabled:t.disabled,readonly:t.disableInput,inputmode:t.integer?"numeric":"decimal",placeholder:t.placeholder,autocomplete:"off","aria-valuemax":t.max,"aria-valuemin":t.min,"aria-valuenow":a.value,onBlur:r,onInput:u,onFocus:l,onMousedown:I},null),[[Fe,t.showInput]]),ke(o("button",ie({type:"button",style:x.value,class:[ve("plus",{disabled:i.value}),{[Be]:!i.value}],"aria-disabled":i.value||void 0},O("plus")),null),[[Fe,t.showPlus]])])}});const Co={key:0},Po={key:1},wo=q({__name:"CommunicationPlatform",props:{platform:{},show:{type:Boolean,default:!1},form:{}},emits:["close","added","updated","deleted"],setup(t,{emit:_}){const b=_,f=le(),y=t,n=M({}),a=ce({show:!1,newValue:"",editingValue:{},visibility:{addNew:!1,editPopup:!1},form:[]}),h={handle:{beforeClose:()=>{b("close")},click:{btn:{cancelAddNew:()=>{a.visibility.addNew=!1,a.newValue=""},addNew:()=>{b("added",a.newValue),a.visibility.addNew=!1,a.newValue=""},editPlatform:(i,P)=>{a.visibility.editPopup=!0,a.editingValue={value:i,originalValue:i,index:P}},deletePlatform:(i,P)=>{a.form.splice(P,1),a.editingValue={value:i,originalValue:i,index:P},b("deleted",a.editingValue),console.log("editingValue ",a.editingValue)},edit:()=>{a.form[a.editingValue.index]=a.editingValue.value,b("updated",a.form,a.editingValue),a.visibility.editPopup=!1}}},updateModelValue:()=>{b("updated",a.form,y.form)}}};return W(()=>y.show,i=>{a.show=i||a.show}),W(()=>y.form,i=>{a.form=i||a.form,n.value=i,console.log("D form",a.form)},{immediate:!0}),(i,P)=>{const x=_e,g=me,k=Ft,F=se,u=ue,l=Ae,r=Yt;return N(),Y(r,{show:e(a).show,"onUpdate:show":P[5]||(P[5]=c=>e(a).show=c),title:y.platform.name??"",onClose:h.handle.beforeClose},{default:m(()=>[o(u,null,{default:m(()=>[(N(!0),L(ee,null,te(e(n),(c,U)=>(N(),Y(k,{key:c},{left:m(()=>P[6]||(P[6]=[])),right:m(()=>[o(g,{square:"",type:"primary",text:e(f).translate("edit"),onClick:C=>h.handle.click.btn.editPlatform(c,U)},null,8,["text","onClick"]),o(g,{square:"",type:"danger",text:e(f).translate("delete"),onClick:C=>h.handle.click.btn.deletePlatform(c,U)},null,8,["text","onClick"])]),default:m(()=>[o(x,{title:c},null,8,["title"])]),_:2},1024))),128)),o(l,{show:e(a).visibility.editPopup,"onUpdate:show":P[1]||(P[1]=c=>e(a).visibility.editPopup=c),position:"bottom",style:{height:"30%"},closeable:"",round:""},{default:m(()=>[o(u,{title:e(f).translate("edit")},{default:m(()=>[o(x,null,{default:m(()=>[o(F,{modelValue:e(a).editingValue.value,"onUpdate:modelValue":P[0]||(P[0]=c=>e(a).editingValue.value=c),placeholder:e(f).translate("enter_new_value"),label:e(f).translate("value")},null,8,["modelValue","placeholder","label"])]),_:1}),o(x,null,{default:m(()=>[o(g,{block:"",type:"warning",size:"small",onClick:h.handle.click.btn.edit},{default:m(()=>[E(G(e(f).translate("edit")),1)]),_:1},8,["onClick"])]),_:1})]),_:1},8,["title"])]),_:1},8,["show"])]),_:1}),o(x,null,{default:m(()=>[e(a).visibility.addNew?(N(),Y(F,{key:0,modelValue:e(a).newValue,"onUpdate:modelValue":P[2]||(P[2]=c=>e(a).newValue=c),placeholder:e(f).translate("enter_new_value")},null,8,["modelValue","placeholder"])):Oe("",!0)]),_:1}),o(x,null,{default:m(()=>[e(a).visibility.addNew?(N(),L("div",Po,[o(x,null,{default:m(()=>[o(g,{type:"success",block:"",size:"small",onClick:h.handle.click.btn.addNew},{default:m(()=>[E(G(e(f).translate("add")),1)]),_:1},8,["onClick"])]),_:1}),o(x,null,{default:m(()=>[o(g,{type:"primary",block:"",size:"small",plain:"",onClick:h.handle.click.btn.cancelAddNew},{default:m(()=>[E(G(e(f).translate("cancel")),1)]),_:1},8,["onClick"])]),_:1})])):(N(),L("div",Co,[o(x,null,{default:m(()=>[o(g,{type:"success",block:"",size:"small",onClick:P[3]||(P[3]=c=>e(a).visibility.addNew=!0)},{default:m(()=>[E(G(e(f).translate("add"))+" "+G(y.platform.name),1)]),_:1})]),_:1}),o(x,null,{default:m(()=>[o(g,{type:"primary",block:"",plain:"",size:"small",onClick:P[4]||(P[4]=c=>e(a).show=!1)},{default:m(()=>[E(G(e(f).translate("close")),1)]),_:1})]),_:1})]))]),_:1})]),_:1},8,["show","title","onClose"])}}}),xo=Dt("contact",()=>({contacts:JSON.parse(localStorage.getItem("contacts")||"{}")})),So={style:{display:"flex","align-items":"center",padding:"10px",border:"1px solid rgba(200, 200, 200, 0.1)","border-radius":"4px","margin-left":"10px","margin-right":"10px",width:"calc(100vw - 100px)"}},$o={style:{margin:"16px",display:"flex",gap:"16px"}},Do=q({__name:"Contact",setup(t){const _={contacts:X(Q.CONTACTS)},b={settings:zt(),peopleGroup:Gt(),communicationPlatform:Lt(),faithMilestone:At(),contact:xo()},f=Se(),y=Ee(),n=le(),a=f.query.id?Number(f.query.id):void 0,h=le(),i=qe().authUser,P=M(""),x=M(""),g=M(""),k=M(""),F=M(""),u=M(""),l=M(""),r=M([]),c=M([]),U=M([]),C=M([]),p=M([]),$=M([]),I=M([]),O=M([]),w=M([]),s=ce({visibility:{contactPicker:!1,faithStatusPicker:!1,ageGroupPicker:!1,peopleGroupPicker:!1,communicationPlatformActionSheet:!1,faithMielstonePicker:!1,baptizedByPicker:!1,baptismDatePicker:!1},form:{name:"",contact_status_id:null,faith_status_id:null,gender:null,age:null,people_group:[],faith_milestones:[],contact_communication_platforms:[],baptized_by:null,baptism_date:null,assigned_to:null},currentCommunicationPlatform:{name:""},contacts:[]}),z={handle:{click:{confirmContactStatusPicker:({selectedOptions:S})=>{s.form.contact_status_id=S[0].value,P.value=S[0].text,s.visibility.contactPicker=!1},confirmFaithStatusPicker:({selectedOptions:S})=>{s.form.faith_status_id=S[0].value,x.value=S[0].text,s.visibility.faithStatusPicker=!1},confirmAgeGroupPicker:({selectedOptions:S})=>{s.form.age=S[0].value,g.value=S[0].text,s.visibility.ageGroupPicker=!1},confirmPeopleGroupPicker:({selectedOptions:S})=>{k.value=S[0].text,s.visibility.peopleGroupPicker=!1},confirmFaithMilestonePicker:({selectedOptions:S})=>{F.value=S[0].text,s.form.faith_milestones=p.value,s.visibility.faithMielstonePicker=!1},checkbox:()=>{const d=b.peopleGroup.options.filter(function(B){return!!C.value.includes(B.value)}).map(B=>B.text);k.value=d.join(", "),s.form.people_group||(s.form.people_group=[]),s.form.people_group=C.value},faithMilestoneCheckbox:()=>{const d=b.faithMilestone.options.filter(function(B){return!!p.value.includes(B.value)}).map(B=>B.text);O.value=p.value,s.form.faith_milestones=O.value,F.value=d.join(", ")},communicationPlatform:S=>{s.visibility.communicationPlatformActionSheet=!0,s.currentCommunicationPlatform=S},confirmCommunicationPlatformPicker:S=>{w.value.push(S),s.form.contact_communication_platforms||(s.form.contact_communication_platforms=[]),s.form.contact_communication_platforms.push({communication_platform_id:s.currentCommunicationPlatform.id,value:S})},confirmBaptizedByPicker:({selectedOptions:S})=>{s.form.baptized_by=S[0].value,u.value=S[0].text,s.visibility.baptizedByPicker=!1},confirmBaptizedDatePicker:({selectedOptions:S})=>{const d=S[0],B=S[1],v=S[2];s.form.baptism_date=`${v.value}-${B.value}-${d.value}`,l.value=`${d.text} ${B.text} ${v.text}`,I.value=[d.value,B.value,v.value],s.visibility.baptismDatePicker=!1}},emits:{updatedCommunicationPlatformPicker:(S,d)=>{w.value=S,s.form.contact_communication_platforms||(s.form.contact_communication_platforms=[]);const B=s.form.contact_communication_platforms.findIndex(v=>v.value===d.originalValue);B!==-1&&(s.form.contact_communication_platforms[B].value=d.value)},deletedCommunicationPlatformPicker:S=>{s.form.contact_communication_platforms||(s.form.contact_communication_platforms=[]);const d=s.form.contact_communication_platforms.findIndex(B=>B.value===S.originalValue);d!==-1&&s.form.contact_communication_platforms.splice(d,1)}}},consume:{contacts:async()=>{s.contacts=await _.contacts.browse({all:!0},!1)}},helper:{formatter:{baptismDateFormat:(S,d)=>{if(S==="month")switch(d.text){case"01":d.text="January";break;case"02":d.text="February";break;case"03":d.text="March";break;case"04":d.text="April";break;case"05":d.text="May";break;case"06":d.text="June";break;case"07":d.text="July";break;case"08":d.text="August";break;case"09":d.text="September";break;case"10":d.text="October";break;case"11":d.text="November";break;case"12":d.text="December";break}return d}}}};he(async()=>{var S;if(a){const d={where:JSON.stringify([{key:"id",value:a}]),with:'["faithMilestones", "status", "faithStatus", "assignedTo", "coachedBy", "peopleGroup", "baptizedBy", "contactCommunicationPlatforms"]'},B=await _.contacts.browse(d);if(console.log("Res Data",B.data),B.data&&B.data.length>0){if(s.form=B.data[0],s.form.contact_status_id&&h.setFromOptions({options:b.settings.options.contact,selectedValue:s.form.contact_status_id,textField:P,idField:r}),s.form.faith_status_id&&h.setFromOptions({options:b.settings.options.faith,selectedValue:s.form.faith_status_id,textField:x,idField:c}),s.form.age&&(g.value=s.form.age),s.form.faith_milestones&&s.form.faith_milestones.length>0){const v=s.form.faith_milestones.map(T=>T.name).join(", ");s.form.faith_milestones=s.form.faith_milestones.map(T=>T.id),F.value=v,p.value=s.form.faith_milestones}if(s.form.people_group&&s.form.people_group.length>0){const v=s.form.people_group.map(T=>T.name).join(", ");s.form.people_group=s.form.people_group.map(T=>T.id),k.value=v,C.value=s.form.people_group}if(B.data&&B.data[0].baptized_by){const v=B.data[0].baptized_by;s.form.baptized_by=v.id,s.form.baptized_by&&h.setFromOptions({options:j.value,selectedValue:s.form.baptized_by,textField:u,idField:$})}if(s.form&&s.form.baptism_date){const v=new Date(s.form.baptism_date),T=new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"long",year:"numeric"}).format(v),oe=v.toISOString().split("T")[0];l.value=T,s.form.baptism_date=oe,I.value=[v.getDate(),v.getMonth()+1,v.getFullYear()]}s.form.contact_communication_platforms&&((S=s.form.contact_communication_platforms)==null?void 0:S.length)>0&&(console.log("d.form.contact_communication_platforms",s.form.contact_communication_platforms),w.value=s.form.contact_communication_platforms.map(v=>v.value),s.form.contact_communication_platforms=s.form.contact_communication_platforms.map(v=>({communication_platform_id:v.communication_platform_id,value:v.value})))}}});const j=J(()=>s.contacts.map(S=>({text:S.name,value:S.id})));z.consume.contacts();const D=async()=>{s.form.assigned_to=i.id;let S;a?S=await X(Q.CONTACTS,a).save(s.form):S=await _.contacts.save(s.form),S&&y.back()};return(S,d)=>{const B=se,v=ze,T=Ae,oe=ue,mt=no,be=_e,ft=Xt,Je=ut,je=rt,pt=wo,ht=_o,_t=dt,He=me;return N(),L("div",null,[o(oe,{title:e(n).translate("statuses")},{default:m(()=>[o(B,{modelValue:e(P),"onUpdate:modelValue":d[0]||(d[0]=V=>H(P)?P.value=V:null),readonly:"",label:e(n).translate("contact"),placeholder:e(n).translate("choose_contact_status"),onClick:d[1]||(d[1]=V=>e(s).visibility.contactPicker=!0)},null,8,["modelValue","label","placeholder"]),o(T,{show:e(s).visibility.contactPicker,"onUpdate:show":d[3]||(d[3]=V=>e(s).visibility.contactPicker=V),"destroy-on-close":"",round:"",position:"bottom"},{default:m(()=>[o(v,{"model-value":e(r),title:e(n).translate("title"),columns:b.settings.options.contact,onCancel:d[2]||(d[2]=V=>e(s).visibility.contactPicker=!1),onConfirm:z.handle.click.confirmContactStatusPicker},null,8,["model-value","title","columns","onConfirm"])]),_:1},8,["show"]),o(B,{modelValue:e(x),"onUpdate:modelValue":d[4]||(d[4]=V=>H(x)?x.value=V:null),readonly:"",label:e(n).translate("faith_status"),placeholder:e(n).translate("choose_faith_status"),onClick:d[5]||(d[5]=V=>e(s).visibility.faithStatusPicker=!0)},null,8,["modelValue","label","placeholder"]),o(T,{show:e(s).visibility.faithStatusPicker,"onUpdate:show":d[7]||(d[7]=V=>e(s).visibility.faithStatusPicker=V),"destroy-on-close":"",round:"",position:"bottom"},{default:m(()=>[o(v,{"model-value":e(c),title:e(n).translate("title"),columns:b.settings.options.faith,onCancel:d[6]||(d[6]=V=>e(s).visibility.faithStatusPicker=!1),onConfirm:z.handle.click.confirmFaithStatusPicker},null,8,["model-value","title","columns","onConfirm"])]),_:1},8,["show"])]),_:1},8,["title"]),o(oe,{title:e(n).translate("general_information")},{default:m(()=>[o(B,{modelValue:e(s).form.name,"onUpdate:modelValue":d[8]||(d[8]=V=>e(s).form.name=V),label:e(n).translate("name"),placeholder:e(n).translate("enter_name"),required:"",rules:[{required:!0,message:e(n).translate("name_is_required")}]},null,8,["modelValue","label","placeholder","rules"]),o(B,{modelValue:e(s).form.nickname,"onUpdate:modelValue":d[9]||(d[9]=V=>e(s).form.nickname=V),label:e(n).translate("nickname"),placeholder:e(n).translate("enter_nickname")},null,8,["modelValue","label","placeholder"]),o(oe,null,{title:m(()=>[A("span",null,[d[34]||(d[34]=A("span",{style:{color:"red"}},"*",-1)),E(" "+G(e(n).translate("gender")),1)])]),default:m(()=>[o(ft,{modelValue:e(s).form.gender,"onUpdate:modelValue":d[10]||(d[10]=V=>e(s).form.gender=V),required:"",rules:[{required:!0,message:e(n).translate("the_gender_field_is_required")}]},{default:m(()=>[(N(!0),L(ee,null,te(b.settings.options.genders,V=>(N(),Y(oe,{key:V.value,inset:""},{default:m(()=>[o(be,{title:e(n).translate(e(n).toSnakeCase(V.text)),clickable:"",onClick:fe=>e(s).form.gender=V.value},{"right-icon":m(()=>[o(mt,{name:V.value},null,8,["name"])]),_:2},1032,["title","onClick"])]),_:2},1024))),128))]),_:1},8,["modelValue","rules"])]),_:1}),o(B,{modelValue:e(g),"onUpdate:modelValue":d[11]||(d[11]=V=>H(g)?g.value=V:null),readonly:"",label:e(n).translate("age_group"),placeholder:e(n).translate("choose_age_group"),required:"",rules:[{required:!0,message:e(n).translate("age_is_required")}],onClick:d[12]||(d[12]=V=>e(s).visibility.ageGroupPicker=!0)},null,8,["modelValue","label","placeholder","rules"]),o(T,{show:e(s).visibility.ageGroupPicker,"onUpdate:show":d[14]||(d[14]=V=>e(s).visibility.ageGroupPicker=V),"destroy-on-close":"",round:"",position:"bottom"},{default:m(()=>[o(v,{"model-value":e(U),title:e(n).translate("title"),columns:b.settings.options.ageGroups,onCancel:d[13]||(d[13]=V=>e(s).visibility.ageGroupPicker=!1),onConfirm:z.handle.click.confirmAgeGroupPicker},null,8,["model-value","title","columns","onConfirm"])]),_:1},8,["show"]),o(B,{modelValue:e(k),"onUpdate:modelValue":d[15]||(d[15]=V=>H(k)?k.value=V:null),readonly:"",autosize:"",label:e(n).translate("people_group"),"label-align":"top",placeholder:e(n).translate("choose_people_group"),onClick:d[16]||(d[16]=V=>e(s).visibility.peopleGroupPicker=!0)},null,8,["modelValue","label","placeholder"]),o(T,{show:e(s).visibility.peopleGroupPicker,"onUpdate:show":d[18]||(d[18]=V=>e(s).visibility.peopleGroupPicker=V),"destroy-on-close":"",closeable:"",round:"",position:"bottom",style:{height:"400px"},onCancel:d[19]||(d[19]=V=>e(s).visibility.peopleGroupPicker=!1),onConfirm:z.handle.click.confirmPeopleGroupPicker},{default:m(()=>[o(je,{modelValue:e(C),"onUpdate:modelValue":d[17]||(d[17]=V=>H(C)?C.value=V:null),onChange:z.handle.click.checkbox},{default:m(()=>[(N(!0),L(ee,null,te(b.peopleGroup.options,(V,fe)=>(N(),Y(be,{key:fe},{default:m(()=>[o(Je,{name:V.value},{default:m(()=>[E(G(V.text),1)]),_:2},1032,["name"])]),_:2},1024))),128))]),_:1},8,["modelValue","onChange"])]),_:1},8,["show","onConfirm"])]),_:1},8,["title"]),o(oe,{title:e(n).translate("contact_platforms")},{default:m(()=>[(N(!0),L(ee,null,te(b.communicationPlatform.communicationPlatforms,V=>(N(),Y(be,{key:V.id,title:V.name,"is-link":"",onClick:fe=>z.handle.click.communicationPlatform(V)},null,8,["title","onClick"]))),128)),o(pt,{platform:e(s).currentCommunicationPlatform,show:e(s).visibility.communicationPlatformActionSheet,form:e(w)?e(w):[],onClose:d[20]||(d[20]=V=>e(s).visibility.communicationPlatformActionSheet=!1),onAdded:z.handle.click.confirmCommunicationPlatformPicker,onUpdated:z.handle.emits.updatedCommunicationPlatformPicker,onDeleted:z.handle.emits.deletedCommunicationPlatformPicker},null,8,["platform","show","form","onAdded","onUpdated","onDeleted"])]),_:1},8,["title"]),o(oe,{title:e(n).translate("faith_milestones")},{default:m(()=>[o(B,{modelValue:e(F),"onUpdate:modelValue":d[21]||(d[21]=V=>H(F)?F.value=V:null),readonly:"",autosize:"",label:e(n).translate("faith_milestones"),"label-align":"top",placeholder:e(n).translate("choose_faith_milestones"),onClick:d[22]||(d[22]=V=>e(s).visibility.faithMielstonePicker=!0)},null,8,["modelValue","label","placeholder"]),o(T,{show:e(s).visibility.faithMielstonePicker,"onUpdate:show":d[24]||(d[24]=V=>e(s).visibility.faithMielstonePicker=V),"destroy-on-close":"",closeable:"",round:"",position:"bottom",style:{height:"400px"},onCancel:d[25]||(d[25]=V=>e(s).visibility.faithMielstonePicker=!1),onConfirm:z.handle.click.confirmFaithMilestonePicker},{default:m(()=>[o(je,{modelValue:e(p),"onUpdate:modelValue":d[23]||(d[23]=V=>H(p)?p.value=V:null),style:{"margin-top":"40px"},onChange:z.handle.click.faithMilestoneCheckbox},{default:m(()=>[(N(!0),L(ee,null,te(b.faithMilestone.faithMilestones,(V,fe)=>(N(),Y(be,{key:fe},{default:m(()=>[o(Je,{name:V.id},{default:m(()=>[A("div",So,[o(ht,{width:"26",height:"26",style:{"margin-right":"10px"},src:("useRuntimeConfig"in S?S.useRuntimeConfig:e(Ut))().public.rootURL+V.icon},null,8,["src"]),E(" "+G(V.name),1)])]),_:2},1032,["name"])]),_:2},1024))),128))]),_:1},8,["modelValue","onChange"])]),_:1},8,["show","onConfirm"])]),_:1},8,["title"]),o(oe,{title:e(n).translate("baptism")},{default:m(()=>[o(B,{modelValue:e(u),"onUpdate:modelValue":d[26]||(d[26]=V=>H(u)?u.value=V:null),readonly:"",label:e(n).translate("baptized_by"),placeholder:e(n).translate("choose_baptized_by"),onClick:d[27]||(d[27]=V=>e(s).visibility.baptizedByPicker=!0)},null,8,["modelValue","label","placeholder"]),o(T,{show:e(s).visibility.baptizedByPicker,"onUpdate:show":d[29]||(d[29]=V=>e(s).visibility.baptizedByPicker=V),"destroy-on-close":"",round:"",position:"bottom"},{default:m(()=>[o(v,{"model-value":e($),title:e(n).translate("baptized_by"),columns:e(j),onCancel:d[28]||(d[28]=V=>e(s).visibility.baptizedByPicker=!1),onConfirm:z.handle.click.confirmBaptizedByPicker},null,8,["model-value","title","columns","onConfirm"])]),_:1},8,["show"]),o(B,{modelValue:e(l),"onUpdate:modelValue":d[30]||(d[30]=V=>H(l)?l.value=V:null),readonly:"",label:e(n).translate("baptism_date"),placeholder:e(n).translate("choose_baptism_date"),onClick:d[31]||(d[31]=V=>e(s).visibility.baptismDatePicker=!0)},null,8,["modelValue","label","placeholder"]),o(T,{show:e(s).visibility.baptismDatePicker,"onUpdate:show":d[33]||(d[33]=V=>e(s).visibility.baptismDatePicker=V),"destroy-on-close":"",round:"",position:"bottom"},{default:m(()=>[o(_t,{title:"BaptismDate","model-value":e(I),"max-date":new Date(2030,0,1),"columns-type":["day","month","year"],formatter:z.helper.formatter.baptismDateFormat,onConfirm:z.handle.click.confirmBaptizedDatePicker,onCancel:d[32]||(d[32]=V=>e(s).visibility.baptismDatePicker=!1)},null,8,["model-value","max-date","formatter","onConfirm"])]),_:1},8,["show"])]),_:1},8,["title"]),A("div",$o,[o(He,{round:"",block:"",type:"default",style:{flex:"1"},onClick:S.$router.back},{default:m(()=>[E(G(e(n).translate("cancel")),1)]),_:1},8,["onClick"]),o(He,{round:"",block:"",type:"primary",style:{flex:"1"},onClick:D},{default:m(()=>[E(G(e(n).translate("submit")),1)]),_:1})])])}}}),Uo=["placeholder"],Fo={key:0,class:"suggestions-container"},Io=["onClick"],No=q({__name:"SelectLocation",props:{latitude:{type:Number,required:!0},longitude:{type:Number,required:!0}},emits:["update"],setup(t,{emit:_}){const b=t,f=_,y=le(),n=M(null),a=M(null),h=M([]);let i,P,x;const g=async u=>{const r=u.target.value.trim();if(r.length<2){h.value=[];return}try{const c={input:r,types:["geocode","establishment"]},U=await x.getPlacePredictions(c);h.value=U.predictions||[]}catch(c){console.error("Error fetching suggestions:",c),h.value=[]}},k=async u=>{try{const{PlacesService:l}=await google.maps.importLibrary("places");new l(i).getDetails({placeId:u.place_id,fields:["geometry","name","formatted_address"]},(c,U)=>{if(U==="OK"&&c&&c.geometry){const C={lat:c.geometry.location.lat(),lng:c.geometry.location.lng()};i.setCenter(C),i.setZoom(15),P.position=C,P.title=c.name||"Selected Location",h.value=[],f("update",C,c)}})}catch(l){console.error("Error selecting place:",l)}},F=J(()=>y.translate("search_for_a_place_here")===""?"Search for a place here":y.translate("search_for_a_place_here"));return he(async()=>{try{console.log("Loading Google Maps libraries...");const{Map:u}=await google.maps.importLibrary("maps"),{AdvancedMarkerElement:l}=await google.maps.importLibrary("marker"),{AutocompleteService:r}=await google.maps.importLibrary("places");console.log("Libraries loaded successfully");let c={lat:13.7563,lng:100.5018};b.latitude&&b.longitude&&(c={lat:b.latitude,lng:b.longitude});const U={center:c,zoom:5,mapId:"49f84f4fe99b4c959dd7a6e3"};console.log("Initializing map with options:",U),i=new u(a.value,U),console.log("Map initialized successfully"),P=new l({map:i,position:c,title:"Default Location"}),x=new r,console.log("Autocomplete service initialized")}catch(u){console.error("Error initializing map:",u)}}),(u,l)=>(N(),L("div",null,[A("input",{ref_key:"searchInput",ref:n,type:"text",class:"search-input",placeholder:e(F),onInput:g},null,40,Uo),h.value.length>0?(N(),L("div",Fo,[(N(!0),L(ee,null,te(h.value,r=>(N(),L("div",{key:r.id,class:"suggestion-item",onClick:c=>k(r)},G(r.description),9,Io))),128))])):Oe("",!0),A("div",{id:"map",ref_key:"mapElement",ref:a,class:"map-container"},null,512)]))}}),ct=Te(No,[["__scopeId","data-v-68951e19"]]),Mo={class:"church"},Bo={style:{display:"flex","justify-content":"center",padding:"10px"}},zo={style:{margin:"16px",display:"flex",gap:"16px"}},Ao=q({__name:"Church",setup(t){const _=le(),b=Se(),f=Ee(),y=qe(),n=b.query.id?Number(b.query.id):void 0,a=M(""),h=M(""),i=M(""),P=M([]),x=M([]),g=M([]),k=M([]),F=M([]),u=le(),l=ce({visibility:{communityPicker:!1,parentChurchPicker:!1,foundedAtPicker:!1,denominationPicker:!1,churchPlanterDialog:!1,showMaps:!1},form:{is_active:!0,church_planters:null,name:"",description:"",founded_at:null,phone_number:"",website:"",location_longitude:"",location_latitude:"",google_location_data:"",denomination_id:null,is_visited:!1,church_members_count:void 0,confession_of_faith_count:void 0,baptism_count:void 0,community_id:null,parent_church_id:null,current_prayers:""},options:{communities:[],parentChurches:[],denominations:[]}}),r={communities:X(Q.COMMUNITIES),churches:X(Q.CHURCHES),denominations:X(Q.DENOMINATIONS),churchPlanter:X(Q.USERS)},c={consume:{defaultCommunitiesForCommunityOption:async()=>{const C=await r.communities.list({labelOption:"name",limit:20});l.options.communities=_.formatOptions(C)},defaultChurchesForChurchOption:async()=>{const C=await r.churches.list({labelOption:"name",limit:20});l.options.parentChurches=_.formatOptions(C)},defaultDenominationsForDenominationOption:async()=>{const C=await r.denominations.list({labelOption:"name",limit:20});l.options.denominations=_.formatOptions(C)},defaultChurchPlanters:async()=>{const C={all:!0,limit:20,where:JSON.stringify([{key:"user_role_id",value:4}])};F.value=await r.churchPlanter.browse(C,!1)}},handle:{click:{confirmCommunityPicker:({selectedOptions:C})=>{l.form.community_id=C[0].value,a.value=C[0].text,P.value=[C[0].value],l.visibility.communityPicker=!1},confirmParentChurchPicker:({selectedOptions:C})=>{l.form.parent_church_id=C[0].value,h.value=C[0].text,x.value=[C[0].value],l.visibility.parentChurchPicker=!1},confirmFoundedAtPicker:({selectedValues:C})=>{l.form.founded_at=C.join("-"),g.value=C,l.visibility.foundedAtPicker=!1,console.log("Selected Value ",C)},confirmDenominationPicker:({selectedOptions:C})=>{l.form.denomination_id=C[0].value,i.value=C[0].text,k.value=[C[0].value],l.visibility.denominationPicker=!1},handleLocationConfirm:()=>{l.visibility.showMaps=!1},handleOpenMaps:()=>{l.visibility.showMaps=!0}},emits:{handleLocationSelected:(C,p)=>{l.form.location_latitude=C.lat,l.form.location_longitude=C.lng,l.form.google_location_data=JSON.stringify(p),console.log("location from parent",l.form.location_latitude,l.form.location_longitude,l.form.google_location_data),console.log("location from child",C)}}}};he(async()=>{if(n){const C={where:JSON.stringify([{key:"id",value:n}]),with:'["churchPlanters"]'},p=await r.churches.browse(C);p.data&&p.data.length>0&&(l.form=p.data[0],l.form.church_planters=[],_.setFromOptions({options:l.options.communities,selectedValue:l.form.community_id,textField:a,idField:P}),l.form.parent_church_id&&_.setFromOptions({options:l.options.parentChurches,selectedValue:l.form.parent_church_id,textField:h,idField:x}),l.form.denomination_id&&_.setFromOptions({options:l.options.denominations,selectedValue:l.form.denomination_id,textField:i,idField:k}))}});const U=async()=>{(!Array.isArray(l.form.church_planters)||l.form.church_planters.length===0)&&(l.form.church_planters=[y.authUser.id]),l.form.assigned_to=y.authUser.id;let C;n?C=await X(Q.CHURCHES,n).save(l.form):C=await r.churches.save(l.form),C&&f.back()};return c.consume.defaultCommunitiesForCommunityOption(),c.consume.defaultChurchesForChurchOption(),c.consume.defaultDenominationsForDenominationOption(),c.consume.defaultChurchPlanters(),(C,p)=>{const $=Ot,I=se,O=ze,w=Ae,s=ct,z=De,j=me,D=dt,S=Vo,d=ue,B=ot;return N(),L("div",Mo,[o(B,{onSubmit:U},{default:m(()=>[o(d,null,{default:m(()=>[o(I,{name:"isActive",label:e(u).translate("is_active")},{input:m(()=>[o($,{modelValue:e(l).form.is_active,"onUpdate:modelValue":p[0]||(p[0]=v=>e(l).form.is_active=v)},null,8,["modelValue"])]),_:1},8,["label"]),o(I,{modelValue:e(a),"onUpdate:modelValue":p[1]||(p[1]=v=>H(a)?a.value=v:null),readonly:"",label:e(u).translate("community"),placeholder:e(u).translate("select_community"),rules:[{required:!0,message:e(u).translate("the_community_id_field_is_required")}],required:"",onClick:p[2]||(p[2]=v=>e(l).visibility.communityPicker=!0)},null,8,["modelValue","label","placeholder","rules"]),o(w,{show:e(l).visibility.communityPicker,"onUpdate:show":p[4]||(p[4]=v=>e(l).visibility.communityPicker=v),"destroy-on-close":"",round:"",position:"bottom"},{default:m(()=>[o(O,{"model-value":e(P),columns:e(l).options.communities,onCancel:p[3]||(p[3]=v=>e(l).visibility.communityPicker=!1),onConfirm:c.handle.click.confirmCommunityPicker},null,8,["model-value","columns","onConfirm"])]),_:1},8,["show"]),o(I,{label:e(u).translate("church_planters"),"model-value":e(y).authUser.name,readonly:""},null,8,["label","model-value"]),o(I,{modelValue:e(l).form.name,"onUpdate:modelValue":p[5]||(p[5]=v=>e(l).form.name=v),label:e(u).translate("church_name"),placeholder:e(u).translate("enter_church_name"),required:"",rules:[{required:!0,message:e(u).translate("name_is_required")}]},null,8,["modelValue","label","placeholder","rules"]),o(I,{modelValue:e(l).form.location_longitude,"onUpdate:modelValue":p[6]||(p[6]=v=>e(l).form.location_longitude=v),label:e(u).translate("longitude"),placeholder:e(u).translate("please_input"),rules:[{required:!0,message:e(u).translate("longitude_is_required")}],required:"",readonly:""},null,8,["modelValue","label","placeholder","rules"]),o(I,{modelValue:e(l).form.location_latitude,"onUpdate:modelValue":p[7]||(p[7]=v=>e(l).form.location_latitude=v),label:e(u).translate("latitude"),placeholder:e(u).translate("please_input"),rules:[{required:!0,message:e(u).translate("latitude_is_required")}],required:"",readonly:""},null,8,["modelValue","label","placeholder","rules"]),o(z,{show:e(l).visibility.showMaps,"onUpdate:show":p[8]||(p[8]=v=>e(l).visibility.showMaps=v),title:e(u).translate("select_location"),"show-cancel-button":!0,width:"90%",onConfirm:c.handle.click.handleLocationConfirm},{default:m(()=>[o(s,{latitude:Number(e(l).form.location_latitude),longitude:Number(e(l).form.location_longitude),onUpdate:c.handle.emits.handleLocationSelected},null,8,["latitude","longitude","onUpdate"])]),_:1},8,["show","title","onConfirm"]),A("div",Bo,[o(j,{type:"primary",onClick:c.handle.click.handleOpenMaps},{default:m(()=>[E(G(e(u).translate("select_location")),1)]),_:1},8,["onClick"])]),o(I,{modelValue:e(l).form.description,"onUpdate:modelValue":p[9]||(p[9]=v=>e(l).form.description=v),label:e(u).translate("church_description"),placeholder:e(u).translate("enter_church_description")},null,8,["modelValue","label","placeholder"]),o(I,{modelValue:e(h),"onUpdate:modelValue":p[10]||(p[10]=v=>H(h)?h.value=v:null),readonly:"",label:e(u).translate("parent_church"),placeholder:e(u).translate("select_parent_church"),onClick:p[11]||(p[11]=v=>e(l).visibility.parentChurchPicker=!0)},null,8,["modelValue","label","placeholder"]),o(w,{show:e(l).visibility.parentChurchPicker,"onUpdate:show":p[13]||(p[13]=v=>e(l).visibility.parentChurchPicker=v),"destroy-on-close":"",round:"",position:"bottom"},{default:m(()=>[o(O,{"model-value":e(x),columns:e(l).options.parentChurches,onCancel:p[12]||(p[12]=v=>e(l).visibility.parentChurchPicker=!1),onConfirm:c.handle.click.confirmParentChurchPicker},null,8,["model-value","columns","onConfirm"])]),_:1},8,["show"]),o(I,{modelValue:e(l).form.website,"onUpdate:modelValue":p[14]||(p[14]=v=>e(l).form.website=v),label:e(u).translate("church_website"),placeholder:e(u).translate("enter_church_website")},null,8,["modelValue","label","placeholder"]),o(I,{modelValue:e(l).form.founded_at,"onUpdate:modelValue":p[15]||(p[15]=v=>e(l).form.founded_at=v),readonly:"",label:e(u).translate("founded_at"),placeholder:e(u).translate("select_date"),onClick:p[16]||(p[16]=v=>e(l).visibility.foundedAtPicker=!0)},null,8,["modelValue","label","placeholder"]),o(w,{show:e(l).visibility.foundedAtPicker,"onUpdate:show":p[18]||(p[18]=v=>e(l).visibility.foundedAtPicker=v),"destroy-on-close":"",round:"",position:"bottom"},{default:m(()=>[o(D,{"model-value":e(g),onCancel:p[17]||(p[17]=v=>e(l).visibility.foundedAtPicker=!1),onConfirm:c.handle.click.confirmFoundedAtPicker},null,8,["model-value","onConfirm"])]),_:1},8,["show"]),o(I,{modelValue:e(i),"onUpdate:modelValue":p[19]||(p[19]=v=>H(i)?i.value=v:null),readonly:"",label:e(u).translate("denomination"),placeholder:e(u).translate("select_church_denomination"),onClick:p[20]||(p[20]=v=>e(l).visibility.denominationPicker=!0)},null,8,["modelValue","label","placeholder"]),o(w,{show:e(l).visibility.denominationPicker,"onUpdate:show":p[22]||(p[22]=v=>e(l).visibility.denominationPicker=v),"destroy-on-close":"",round:"",position:"bottom"},{default:m(()=>[o(O,{"model-value":e(k),columns:e(l).options.denominations,onCancel:p[21]||(p[21]=v=>e(l).visibility.denominationPicker=!1),onConfirm:c.handle.click.confirmDenominationPicker},null,8,["model-value","columns","onConfirm"])]),_:1},8,["show"]),o(I,{modelValue:e(l).form.phone_number,"onUpdate:modelValue":p[23]||(p[23]=v=>e(l).form.phone_number=v),label:e(u).translate("church_phone_number"),placeholder:e(u).translate("enter_church_phone_number")},null,8,["modelValue","label","placeholder"]),o(I,{name:"isVisited",label:e(u).translate("is_visited")},{input:m(()=>[o($,{modelValue:e(l).form.is_visited,"onUpdate:modelValue":p[24]||(p[24]=v=>e(l).form.is_visited=v)},null,8,["modelValue"])]),_:1},8,["label"]),o(I,{label:e(u).translate("church_members_count")},{input:m(()=>[o(S,{modelValue:e(l).form.church_members_count,"onUpdate:modelValue":p[25]||(p[25]=v=>e(l).form.church_members_count=v),min:0,"default-value":0},null,8,["modelValue"])]),_:1},8,["label"]),o(I,{label:e(u).translate("confession_of_faith_count")},{input:m(()=>[o(S,{modelValue:e(l).form.confession_of_faith_count,"onUpdate:modelValue":p[26]||(p[26]=v=>e(l).form.confession_of_faith_count=v),min:0,"default-value":0},null,8,["modelValue"])]),_:1},8,["label"]),o(I,{label:e(u).translate("baptized_count")},{input:m(()=>[o(S,{modelValue:e(l).form.baptism_count,"onUpdate:modelValue":p[27]||(p[27]=v=>e(l).form.baptism_count=v),min:0,"default-value":0},null,8,["modelValue"])]),_:1},8,["label"]),o(I,{modelValue:e(l).form.current_prayers,"onUpdate:modelValue":p[28]||(p[28]=v=>e(l).form.current_prayers=v),label:e(u).translate("current_prayers"),placeholder:e(u).translate("please_input")},null,8,["modelValue","label","placeholder"])]),_:1}),A("div",zo,[o(j,{round:"",block:"",type:"default",style:{flex:"1"},onClick:C.$router.back},{default:m(()=>[E(G(e(u).translate("cancel")),1)]),_:1},8,["onClick"]),o(j,{round:"",block:"",type:"primary",style:{flex:"1"},onClick:U},{default:m(()=>[E(G(e(u).translate("submit")),1)]),_:1})])]),_:1})])}}}),Go=Te(Ao,[["__scopeId","data-v-50906f8f"]]),Lo={style:{"max-height":"400px",overflow:"auto"}},Oo={key:0},Eo={key:1},qo=q({__name:"CommunityPeacePerson",props:{peacePersons:{}},emits:["added","updated","deleted"],setup(t,{emit:_}){const b=t,f=le(),y=_,n=ce({visibility:{modal:!1},form:{name:"",email:"",phone:"",originalName:""},mode:"add"}),a={handle:{click:{modal:()=>{n.mode,n.visibility.modal=!0},save:()=>{n.visibility.modal=!1;const h={...n.form};y(n.mode==="add"?"added":"updated",h),n.form.name="",n.form.email="",n.form.phone="",n.form.originalName=""},close:()=>{n.visibility.modal=!1,n.form.name="",n.form.email="",n.form.phone="",n.form.originalName=""},edit:h=>{n.mode="edit",n.form.name=h.name,n.form.email=h.email,n.form.phone=h.phone,n.form.originalName=h.originalName?h.originalName:h.name,n.visibility.modal=!0},delete:h=>{y("deleted",h)}}}};return W(()=>b.peacePersons,h=>{const i=[...h];i.forEach(P=>{P.originalName=P.name}),n.form=JSON.parse(JSON.stringify(i))},{deep:!0}),(h,i)=>{const P=me,x=se,g=_e,k=Re,F=De,u=tt,l=ue;return N(),L("div",null,[o(x,{center:"",clearable:"",label:e(f).translate("person_of_peace")},{input:m(()=>[o(P,{icon:"plus",type:"primary",onClick:a.handle.click.modal},null,8,["onClick"])]),_:1},8,["label"]),o(F,{show:e(n).visibility.modal,"onUpdate:show":i[3]||(i[3]=r=>e(n).visibility.modal=r),title:e(f).translate("add_person_of_peace"),"show-cancel-button":"",onConfirm:a.handle.click.save,onCancel:a.handle.click.close},{default:m(()=>[A("div",Lo,[o(k,null,{default:m(()=>[o(g,null,{title:m(()=>[A("div",null,[o(x,{modelValue:e(n).form.name,"onUpdate:modelValue":i[0]||(i[0]=r=>e(n).form.name=r),label:e(f).translate("name"),placeholder:e(f).translate("name")},null,8,["modelValue","label","placeholder"]),o(x,{modelValue:e(n).form.email,"onUpdate:modelValue":i[1]||(i[1]=r=>e(n).form.email=r),label:e(f).translate("email"),placeholder:e(f).translate("email")},null,8,["modelValue","label","placeholder"]),o(x,{modelValue:e(n).form.phone,"onUpdate:modelValue":i[2]||(i[2]=r=>e(n).form.phone=r),label:e(f).translate("phone"),placeholder:e(f).translate("phone")},null,8,["modelValue","label","placeholder"])])]),_:1})]),_:1})])]),_:1},8,["show","title","onConfirm","onCancel"]),A("div",null,[o(k,null,{default:m(()=>[o(l,null,{title:m(()=>[b.peacePersons&&b.peacePersons.length>0?(N(),L("div",Oo,[o(k,null,{default:m(()=>[(N(!0),L(ee,null,te(b.peacePersons,r=>(N(),Y(g,{key:r.id},{title:m(()=>[A("div",null,[A("div",null,[A("strong",null,G(e(f).translate("name"))+":",1),E(" "+G(r.name),1)]),A("div",null,[A("strong",null,G(e(f).translate("email"))+":",1),E(" "+G(r.email),1)]),A("div",null,[A("strong",null,G(e(f).translate("phone"))+":",1),E(" "+G(r.phone),1)])])]),"right-icon":m(()=>[o(u,{size:"20",color:"#17badf",name:"edit",onClick:c=>a.handle.click.edit(r)},null,8,["onClick"]),o(u,{size:"20",color:"#17badf",style:{"margin-left":"10px"},name:"delete-o",onClick:c=>a.handle.click.delete(r)},null,8,["onClick"])]),_:2},1024))),128))]),_:1})])):(N(),L("div",Eo,[o(k,null,{default:m(()=>[o(g,{title:e(f).translate("no_person_of_peace")},null,8,["title"])]),_:1})]))]),_:1})]),_:1})])])}}}),To={style:{"max-height":"400px",overflow:"auto"}},Ro={key:0},Yo={key:1},Jo=q({__name:"CommunityCommittees",props:{committees:{}},emits:["added","updated","deleted"],setup(t,{emit:_}){const b=t,f=_,y=le(),n=ce({visibility:{modal:!1},form:{name:"",originalName:""},mode:"add"}),a={handle:{click:{modal:()=>{n.mode,n.visibility.modal=!0},save:()=>{n.visibility.modal=!1;const h={...n.form};f(n.mode==="add"?"added":"updated",h),n.form.name="",n.form.originalName=""},close:()=>{n.visibility.modal=!1,n.form.name="",n.form.originalName=""},edit:h=>{n.mode="edit",n.form.name=h.name,n.form.originalName=h.originalName?h.originalName:h.name,n.visibility.modal=!0},delete:h=>{f("deleted",h)}}}};return W(()=>b.committees,h=>{const i=[...h];i.forEach(P=>{P.originalName=P.name}),n.form=JSON.parse(JSON.stringify(i))},{deep:!0}),(h,i)=>{const P=me,x=se,g=_e,k=Re,F=De,u=tt,l=ue;return N(),L("div",null,[o(x,{center:"",clearable:"",label:e(y).translate("committees")},{input:m(()=>[o(P,{icon:"plus",type:"primary",onClick:a.handle.click.modal},null,8,["onClick"])]),_:1},8,["label"]),o(F,{show:e(n).visibility.modal,"onUpdate:show":i[1]||(i[1]=r=>e(n).visibility.modal=r),title:e(y).translate("add_community_committee"),"show-cancel-button":"",onConfirm:a.handle.click.save,onCancel:a.handle.click.close},{default:m(()=>[A("div",To,[o(k,null,{default:m(()=>[o(g,null,{title:m(()=>[A("div",null,[o(x,{modelValue:e(n).form.name,"onUpdate:modelValue":i[0]||(i[0]=r=>e(n).form.name=r),label:e(y).translate("name"),placeholder:e(y).translate("name")},null,8,["modelValue","label","placeholder"])])]),_:1})]),_:1})])]),_:1},8,["show","title","onConfirm","onCancel"]),A("div",null,[o(k,null,{default:m(()=>[o(l,null,{title:m(()=>[b.committees&&b.committees.length>0?(N(),L("div",Ro,[o(k,null,{default:m(()=>[(N(!0),L(ee,null,te(b.committees,r=>(N(),Y(g,{key:r.id,title:r.name},{"right-icon":m(()=>[o(u,{size:"20",color:"#17badf",name:"edit",onClick:c=>a.handle.click.edit(r)},null,8,["onClick"]),o(u,{size:"20",color:"#17badf",style:{"margin-left":"10px"},name:"delete-o",onClick:c=>a.handle.click.delete(r)},null,8,["onClick"])]),_:2},1032,["title"]))),128))]),_:1})])):(N(),L("div",Yo,[o(k,null,{default:m(()=>[o(g,{title:e(y).translate("no_community_committees")},null,8,["title"])]),_:1})]))]),_:1})]),_:1})])])}}}),jo={style:{display:"flex","justify-content":"center",padding:"10px"}},Ho={style:{display:"flex","align-items":"center"}},Ko={style:{height:"200px",overflow:"auto"}},Wo={style:{margin:"16px",display:"flex",gap:"16px"}},Zo=q({__name:"Community",setup(t){const _=Se(),b=Ee(),f=_.query.id?Number(_.query.id):void 0,y=M([]),n=M(!1),a=le(),h=qe(),i=ce({form:{name:"",location_longitude:"",location_latitude:"",google_location_data:"",conducted_survey_of_community_needs:!1,checklists:[],community_needs_1:"",community_needs_2:"",community_needs_3:"",community_needs_4:"",community_needs_5:"",created_by:0,churches:[],churchPlanters:[],peace_persons:[],committees:[]}}),P={communities:X(Q.COMMUNITIES),communityChecklists:X(Q.COMMUNITY_CHECKLISTS),churches:X(Q.CHURCHES)},x={handle:{emits:{communityPeacePersonAdded:u=>{i.form.peace_persons||(i.form.peace_persons=[]),i.form.peace_persons.push(u)},communityPeacePersonUpdated:u=>{const l=i.form.peace_persons.findIndex(r=>r.name===u.originalName);l!==-1&&(i.form.peace_persons[l]={...i.form.peace_persons[l],...u})},communityPeacePersonDeleted:u=>{const l=i.form.peace_persons.findIndex(r=>r.name===u.name);l!==-1&&i.form.peace_persons.splice(l,1)},communityCommitteeAdded:u=>{i.form.committees||(i.form.committees=[]),i.form.committees.push(u)},communityCommitteeUpdated:u=>{const l=i.form.committees.findIndex(r=>r.name===u.originalName);l!==-1&&(i.form.committees[l]={...i.form.committees[l],...u})},communityCommitteeDeleted:u=>{const l=i.form.committees.findIndex(r=>r.name===u.name);l!==-1&&i.form.committees.splice(l,1)},handleLocationSelected:(u,l)=>{i.form.location_latitude=u.lat,i.form.location_longitude=u.lng,i.form.google_location_data=JSON.stringify(l),console.log("location from parent",i.form.location_latitude,i.form.location_longitude),console.log("location from child",u)}}}};he(async()=>{if(f){const u={where:JSON.stringify([{key:"id",value:f}]),with:'["peacePersons", "committees", "checklists", "churches", "churches.churchPlanters"]'},l=await P.communities.browse(u);l.data.length>0&&(i.form=l.data[0],i.form.checklists=l.data[0].checklists.map(r=>r.id))}y.value=await P.communityChecklists.browse({all:!0})});const g=()=>{n.value=!0},k=()=>{n.value=!1},F=async()=>{i.form.created_by=h.authUser.id;let u;f?u=await X(Q.COMMUNITIES,f).save(i.form):u=await P.communities.save(i.form),u&&b.back()};return(u,l)=>{const r=se,c=ue,U=ct,C=De,p=me,$=ut,I=rt,O=qo,w=Jo,s=_e,z=Re,j=ot;return N(),L("div",null,[o(j,{onSubmit:F},{default:m(()=>[o(c,null,{default:m(()=>[o(r,{modelValue:e(i).form.name,"onUpdate:modelValue":l[0]||(l[0]=D=>e(i).form.name=D),label:e(a).translate("name"),placeholder:e(a).translate("please_input"),rules:[{required:!0,message:e(a).translate("name_is_required")}],required:""},null,8,["modelValue","label","placeholder","rules"])]),_:1}),o(c,{title:e(a).translate("location")},{default:m(()=>[o(r,{modelValue:e(i).form.location_longitude,"onUpdate:modelValue":l[1]||(l[1]=D=>e(i).form.location_longitude=D),label:e(a).translate("longitude"),placeholder:e(a).translate("please_input"),rules:[{required:!0,message:e(a).translate("longitude_is_required")}],required:"",readonly:""},null,8,["modelValue","label","placeholder","rules"]),o(r,{modelValue:e(i).form.location_latitude,"onUpdate:modelValue":l[2]||(l[2]=D=>e(i).form.location_latitude=D),label:e(a).translate("latitude"),placeholder:e(a).translate("please_input"),rules:[{required:!0,message:e(a).translate("latitude_is_required")}],required:"",readonly:""},null,8,["modelValue","label","placeholder","rules"]),o(C,{show:e(n),"onUpdate:show":l[3]||(l[3]=D=>H(n)?n.value=D:null),title:e(a).translate("select_location"),"show-cancel-button":!0,width:"90%",onConfirm:k},{default:m(()=>[o(U,{latitude:Number(e(i).form.location_latitude),longitude:Number(e(i).form.location_longitude),onUpdate:x.handle.emits.handleLocationSelected},null,8,["latitude","longitude","onUpdate"])]),_:1},8,["show","title"]),A("div",jo,[o(p,{type:"primary",onClick:g},{default:m(()=>[E(G(e(a).translate("select_location")),1)]),_:1})])]),_:1},8,["title"]),o(c,{title:e(a).translate("community_checklist")},{default:m(()=>[o(r,{name:"checkboxGroup",label:e(a).translate("community_checklist")},{input:m(()=>[o(I,{modelValue:e(i).form.checklists,"onUpdate:modelValue":l[4]||(l[4]=D=>e(i).form.checklists=D),direction:"vertical"},{default:m(()=>[(N(!0),L(ee,null,te(e(y),D=>(N(),Y($,{key:D.id,name:D.id,shape:"square",style:{"margin-bottom":"5px"}},{default:m(()=>[E(G(D.name),1)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["title"]),o(c,{title:e(a).translate("person_of_peace")},{default:m(()=>[o(O,{"peace-persons":e(i).form.peace_persons,onAdded:x.handle.emits.communityPeacePersonAdded,onUpdated:x.handle.emits.communityPeacePersonUpdated,onDeleted:x.handle.emits.communityPeacePersonDeleted},null,8,["peace-persons","onAdded","onUpdated","onDeleted"])]),_:1},8,["title"]),o(c,{title:e(a).translate("committees")},{default:m(()=>[o(w,{committees:e(i).form.committees,onAdded:x.handle.emits.communityCommitteeAdded,onUpdated:x.handle.emits.communityCommitteeUpdated,onDeleted:x.handle.emits.communityCommitteeDeleted},null,8,["committees","onAdded","onUpdated","onDeleted"])]),_:1},8,["title"]),o(c,null,{title:m(()=>[A("div",Ho,[o($,{modelValue:e(i).form.conducted_survey_of_community_needs,"onUpdate:modelValue":l[5]||(l[5]=D=>e(i).form.conducted_survey_of_community_needs=D),style:{"margin-right":"8px"},shape:"square"},null,8,["modelValue"]),A("span",null,G(e(a).translate("conducted_survey_of_community_needs")),1)])]),default:m(()=>[o(r,{modelValue:e(i).form.community_needs_1,"onUpdate:modelValue":l[6]||(l[6]=D=>e(i).form.community_needs_1=D),label:e(a).translate("community_needs")+" 1",placeholder:e(a).translate("please_input"),disabled:!e(i).form.conducted_survey_of_community_needs},null,8,["modelValue","label","placeholder","disabled"]),o(r,{modelValue:e(i).form.community_needs_2,"onUpdate:modelValue":l[7]||(l[7]=D=>e(i).form.community_needs_2=D),label:e(a).translate("community_needs")+" 2",placeholder:e(a).translate("please_input"),disabled:!e(i).form.conducted_survey_of_community_needs},null,8,["modelValue","label","placeholder","disabled"]),o(r,{modelValue:e(i).form.community_needs_3,"onUpdate:modelValue":l[8]||(l[8]=D=>e(i).form.community_needs_3=D),label:e(a).translate("community_needs")+" 3",placeholder:e(a).translate("please_input"),disabled:!e(i).form.conducted_survey_of_community_needs},null,8,["modelValue","label","placeholder","disabled"]),o(r,{modelValue:e(i).form.community_needs_4,"onUpdate:modelValue":l[9]||(l[9]=D=>e(i).form.community_needs_4=D),label:e(a).translate("community_needs")+" 4",placeholder:e(a).translate("please_input"),disabled:!e(i).form.conducted_survey_of_community_needs},null,8,["modelValue","label","placeholder","disabled"]),o(r,{modelValue:e(i).form.community_needs_5,"onUpdate:modelValue":l[10]||(l[10]=D=>e(i).form.community_needs_5=D),label:e(a).translate("community_needs")+" 5",placeholder:e(a).translate("please_input"),disabled:!e(i).form.conducted_survey_of_community_needs},null,8,["modelValue","label","placeholder","disabled"])]),_:1}),o(c,{title:e(a).translate("churches")+": "+e(i).form.churches.length},{default:m(()=>[A("div",Ko,[o(z,null,{default:m(()=>[(N(!0),L(ee,null,te(e(i).form.churches,D=>(N(),Y(s,{key:D.id,title:D.name},null,8,["title"]))),128))]),_:1})])]),_:1},8,["title"]),o(c,{title:e(a).translate("church_planters")+": "+e(i).form.churchPlanters.length},{default:m(()=>[o(z,null,{default:m(()=>[(N(!0),L(ee,null,te(e(i).form.churchPlanters,D=>(N(),Y(s,{key:D.id,title:D.name},null,8,["title"]))),128))]),_:1})]),_:1},8,["title"]),A("div",Wo,[o(p,{round:"",block:"",type:"default",style:{flex:"1"},onClick:u.$router.back},{default:m(()=>[E(G(e(a).translate("cancel")),1)]),_:1},8,["onClick"]),o(p,{round:"",block:"",type:"primary",style:{flex:"1"},onClick:F},{default:m(()=>[E(G(e(a).translate("submit")),1)]),_:1})])]),_:1})])}}}),Xo=Te(Zo,[["__scopeId","data-v-65c3c703"]]),Il=q({__name:"createForm",setup(t){const _=Se();return(b,f)=>(N(),L("div",null,[e(_).query.moduleName==="Contacts"?(N(),Y(Do,{key:0})):e(_).query.moduleName==="Churches"?(N(),Y(Go,{key:1})):e(_).query.moduleName==="Communities"?(N(),Y(Xo,{key:2})):Oe("",!0)]))}});export{Il as default};
