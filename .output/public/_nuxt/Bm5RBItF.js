import{s as v}from"./DYKtt-G7.js";import{s as y}from"./CMuqMoxK.js";import{v as w,r as l,K as b,c as o,b as p,a as i,w as h,C as k,L as B,p as x,o as r,d as C}from"./D0oBYrK6.js";import"./DRpEo6ov.js";import{u as N}from"./XiEJXYLu.js";import{_ as V}from"./DlAUqK2U.js";import"./BvcrrbVD.js";import"./DYp7AU8s.js";import"./L-qg59-_.js";import"./DRbOzoBI.js";const g={class:"container"},A={key:0,class:"spinner-wrapper"},P={key:1,class:"auth-wrapper"},R={class:"button"},T=w({__name:"biometric",setup(U){const d=B(),{checkBiometric:u}=N(),s=l(!1),n=l(!1),m=async(a=7e3)=>{const t=Date.now();for(;Date.now()-t<a;){try{const e=await x.checkBiometry();if(e.isAvailable||e.deviceIsSecure)return!0}catch{}await new Promise(e=>setTimeout(e,500))}return!1},c=async()=>{if(!s.value){s.value=!0;try{k.isNativePlatform()&&(await m(),n.value=!0),await u()?d.replace("/splash"):console.log("[Biometric] Auth cancelled or failed")}finally{s.value=!1}}};b(async()=>{await c()});const f=async()=>{await c()};return(a,t)=>{const e=v,_=y;return r(),o("div",g,[n.value?(r(),o("div",P,[t[2]||(t[2]=i("div",{class:"title"},"Venture Tools",-1)),i("div",R,[p(_,{square:"",type:"primary",onClick:f,disabled:s.value},{default:h(()=>t[1]||(t[1]=[C(" UNLOCK ")])),_:1},8,["disabled"])])])):(r(),o("div",A,[p(e,{color:"#17badf",type:"spinner",size:"32px",class:"spinner"}),t[0]||(t[0]=i("p",{class:"mt-4 text-blue-400 text-base"},"Preparing biometric...",-1))]))])}}}),$=V(T,[["__scopeId","data-v-26d6983f"]]);export{$ as default};
