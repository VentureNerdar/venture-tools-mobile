import{s as _,a as b}from"./CY4ZJyHz.js";import{s as y}from"./soJAr4A7.js";import{s as h}from"./BhXTN8q3.js";import{s as w}from"./C399Fyjm.js";import{j as g,v,P as V,R as N,y as C,c as x,b as o,w as s,o as E,U as e,d as I}from"./DX7L8mW0.js";import"./Ctc7qOvh.js";import"./ZaMcrE34.js";import"./DBFB9YKp.js";import{s as K}from"./DvxMi5gK.js";import{u as B}from"./BtNk9jBy.js";import"./DRbOzoBI.js";import"./CYA1mnle.js";import"./DQJyiHEB.js";import"./DkQH-hTN.js";import"./C0yiKs0t.js";import"./CQxdcAm9.js";import"./BbEgM1do.js";import"./DlD6u9LM.js";import"./DVrzjvSN.js";import"./-v2XyxJZ.js";const Z=g({__name:"delete-pin",setup(S){const a=v(),t=B();V(async()=>{await t.loadFromSecureStorage()});const r=N({form:{currentPin:""},currentPinError:"",show:{currentPinKeyboard:!1}}),i={handle:{focus:{currentPin:()=>{r.show.currentPinKeyboard=!0}},blur:{currentPin:()=>{r.show.currentPinKeyboard=!1,r.form.currentPin.length===4&&r.form.currentPin!==t.pinCode?r.currentPinError="Incorrect PIN":r.currentPinError=""}}}},u=C(()=>r.form.currentPin.length===4&&r.form.currentPin===t.pinCode),c=()=>{u.value&&(t.removePinNumber(),K({type:"success",message:"PIN removed successfully",duration:2e3}),setTimeout(()=>{a.push("/settings/security")},300))};return(k,n)=>{const m=_,l=b,d=y,p=h,f=w;return E(),x("div",null,[o(d,{title:"Enter PIN to remove",style:{"padding-top":"10px","padding-bottom":"10px"}},{default:s(()=>[o(m,{value:e(r).form.currentPin,focused:e(r).show.currentPinKeyboard,"error-info":e(r).currentPinError,length:"4",onFocus:i.handle.focus.currentPin},null,8,["value","focused","error-info","onFocus"]),o(l,{modelValue:e(r).form.currentPin,"onUpdate:modelValue":n[0]||(n[0]=P=>e(r).form.currentPin=P),show:e(r).show.currentPinKeyboard,onBlur:i.handle.blur.currentPin},null,8,["modelValue","show","onBlur"])]),_:1}),o(f,null,{default:s(()=>[o(p,{block:"",type:"danger",disabled:!e(u),onClick:c},{default:s(()=>n[1]||(n[1]=[I(" Remove PIN ")])),_:1},8,["disabled"])]),_:1})])}}});export{Z as default};
