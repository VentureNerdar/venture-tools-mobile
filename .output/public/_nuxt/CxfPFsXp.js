import{s as O}from"./DLRAkl61.js";import{s as T,a as U,b as z}from"./t4pWriv0.js";import{s as F}from"./B4FTMI9E.js";import{s as N}from"./BqV7Ghxx.js";import{s as j}from"./sm_BGTV-.js";import{g as Y,m as w,r as G,c as y,b as a,w as i,o as c,az as L,s as e,aA as P,a as W,q as C,F as D,n as J,aB as K,v as M}from"./BcM8nbUc.js";import"./BZvMXGx7.js";import"./C1587OLP.js";import"./CbYSZLda.js";import{u as h,R as f}from"./bH_x2CWL.js";import{u as Q}from"./DbRHh0Ao.js";import{A as k,s as v}from"./B2TQAVbc.js";import{w as X}from"./1cSE0txk.js";import"./wzS7IZBv.js";import"./DQZbwPUK.js";import"./DfeQPru4.js";import"./BrYa-QOh.js";import"./CQbdaxH3.js";import"./B7B4zphO.js";import"./DGqFMbKC.js";import"./Czghp9T7.js";import"./D4r7wC-U.js";import"./B4-co7sM.js";import"./C2uxVfP1.js";import"./ZXv_2jnj.js";import"./BIZiQy_b.js";X(T);const Z={style:{display:"flex","align-items":"center",height:"100%"}},I={key:0,style:{"margin-top":"10px"}},He=Y({__name:"churches",setup(ee){const u=Q(),d=w(""),n=w(!1),t=G({churches:[],browseOption:{all:!0}}),x={churches:h(f.CHURCHES)},p=async()=>{t.churches=await x.churches.browse(t.browseOption)},V=async()=>{t.browseOption={all:!0,search:d.value,search_by:"name"},p()},b=s=>{M({path:"/createForm",query:{moduleName:"Churches",id:s}})},$=async s=>{if(s)try{await v({title:"Confirm Deletion",message:"Are you sure? You cannot undo this action afterwards."}),await h(f.CHURCHES,s).delete(!1)&&(t.churches=t.churches.filter(r=>r.id!==s))}catch{}},g=()=>{n.value=!n.value,n.value?(t.browseOption={all:!0,onlyTrashed:!0},p()):(t.browseOption={all:!0},p())},H=async s=>{await h(f.CHURCHES,s).restore()&&(t.churches=t.churches.filter(r=>r.id!==s))},R=async s=>{if(s)try{await v({title:"Confirm Deletion",message:"Are you sure? You cannot undo this action afterwards."}),await h(f.CHURCHES,s).delete(!0)&&(t.churches=t.churches.filter(r=>r.id!==s))}catch{}};return p(),(s,m)=>{const o=O,r=U,S=F,A=N,B=z,E=j;return c(),y("div",null,[a(E,null,{default:i(()=>[a(r,{"show-action":"",modelValue:e(d),"onUpdate:modelValue":m[0]||(m[0]=l=>P(d)?d.value=l:null),placeholder:e(u).translate("search_churches_by_name"),onSearch:V,shape:"round"},{action:i(()=>[W("div",Z,[e(n)?(c(),C(o,{key:0,onClick:g,size:"small",type:"danger",style:{display:"flex","align-items":"center","justify-content":"center"}},{default:i(()=>[a(e(k),{style:{width:"16px",height:"16px"}})]),_:1})):(c(),C(o,{key:1,onClick:g,plain:"",size:"small",type:"primary",style:{display:"flex","align-items":"center","justify-content":"center"}},{default:i(()=>[a(e(k),{style:{width:"16px",height:"16px"}})]),_:1}))])]),_:1},8,["modelValue","placeholder"]),e(n)&&!e(t).churches.length?(c(),y("div",I,[a(S,{type:"textarea",placeholder:e(u).translate("no_archived_church_found"),rows:"1",autosize:""},null,8,["placeholder"])])):L("",!0),(c(!0),y(D,null,J(e(t).churches,(l,q)=>(c(),C(B,{key:q},K({default:i(()=>[a(A,{title:l.name,onClick:_=>e(n)?null:b(l.id)},null,8,["title","onClick"])]),_:2},[e(n)?{name:"right",fn:i(()=>[a(o,{square:"",type:"primary",text:e(u).translate("restore"),onClick:_=>H(l.id)},null,8,["text","onClick"]),a(o,{square:"",type:"danger",text:e(u).translate("destroy"),onClick:_=>R(l.id)},null,8,["text","onClick"])]),key:"0"}:{name:"right",fn:i(()=>[a(o,{square:"",type:"danger",text:e(u).translate("archive"),onClick:_=>$(l.id)},null,8,["text","onClick"])]),key:"1"}]),1024))),128))]),_:1})])}}});export{He as default};
