import{s as O}from"./DF4lQv8P.js";import{s as T,D as w,a as k}from"./EN-4yZbO.js";import{s as U}from"./Bc8XlMJm.js";import{s as q}from"./C8hqzCVS.js";import{s as A,a as N}from"./DI_mIqS7.js";import{s as j}from"./CQv1B_1X.js";import{g as D,m as x,r as Y,c as y,b as a,w as i,o as c,x as G,l as e,az as L,a as P,z as C,F as W,n as J,aA as K,v as M}from"./DKR7rnFD.js";import"./B4QuhD7t.js";import"./CLQQzZQu.js";import"./Xv9xj99t.js";import{u as h,R as f}from"./UZW6JNY5.js";import{u as Q}from"./sVV9xK3L.js";import{w as X}from"./Gen6pDYg.js";import"./BeGGLEH8.js";import"./CwZVdGtE.js";import"./DfeQPru4.js";import"./BQYqJ_6S.js";import"./D-U999CT.js";import"./DGQ9UJ72.js";import"./LJlO2nor.js";import"./DF5gDfHK.js";import"./CSgqSfYb.js";import"./ziHtv4gY.js";import"./D-NIYCCj.js";import"./CnlAC9Ya.js";X(A);const Z={style:{display:"flex","align-items":"center",height:"100%"}},I={key:0,style:{"margin-top":"10px"}},be=D({__name:"churches",setup(ee){const u=Q(),d=x(""),o=x(!1),t=Y({churches:[],browseOption:{all:!0}}),v={churches:h(f.CHURCHES)},p=async()=>{t.churches=await v.churches.browse(t.browseOption)},V=async()=>{t.browseOption={all:!0,search:d.value,search_by:"name"},p()},$=s=>{M({path:"/createForm",query:{moduleName:"Churches",id:s}})},b=async s=>{if(s)try{await k({title:"Confirm Deletion",message:"Are you sure? You cannot undo this action afterwards."}),await h(f.CHURCHES,s).delete(!1)&&(t.churches=t.churches.filter(r=>r.id!==s))}catch{}},g=()=>{o.value=!o.value,o.value?(t.browseOption={all:!0,onlyTrashed:!0},p()):(t.browseOption={all:!0},p())},H=async s=>{await h(f.CHURCHES,s).restore()&&(t.churches=t.churches.filter(r=>r.id!==s))},S=async s=>{if(s)try{await k({title:"Confirm Deletion",message:"Are you sure? You cannot undo this action afterwards."}),await h(f.CHURCHES,s).delete(!0)&&(t.churches=t.churches.filter(r=>r.id!==s))}catch{}};return p(),(s,m)=>{const n=O,r=T,R=U,E=q,z=N,B=j;return c(),y("div",null,[a(B,null,{default:i(()=>[a(r,{"show-action":"",modelValue:e(d),"onUpdate:modelValue":m[0]||(m[0]=l=>L(d)?d.value=l:null),placeholder:e(u).translate("search_churches_by_name"),onSearch:V,shape:"round"},{action:i(()=>[P("div",Z,[e(o)?(c(),C(n,{key:0,onClick:g,size:"small",type:"danger",style:{display:"flex","align-items":"center","justify-content":"center"}},{default:i(()=>[a(e(w),{style:{width:"16px",height:"16px"}})]),_:1})):(c(),C(n,{key:1,onClick:g,plain:"",size:"small",type:"primary",style:{display:"flex","align-items":"center","justify-content":"center"}},{default:i(()=>[a(e(w),{style:{width:"16px",height:"16px"}})]),_:1}))])]),_:1},8,["modelValue","placeholder"]),e(o)&&!e(t).churches.length?(c(),y("div",I,[a(R,{type:"textarea",placeholder:e(u).translate("no_trashed_church_found"),rows:"1",autosize:""},null,8,["placeholder"])])):G("",!0),(c(!0),y(W,null,J(e(t).churches,(l,F)=>(c(),C(z,{key:F},K({default:i(()=>[a(E,{title:l.name,onClick:_=>e(o)?null:$(l.id)},null,8,["title","onClick"])]),_:2},[e(o)?{name:"right",fn:i(()=>[a(n,{square:"",type:"primary",text:e(u).translate("restore"),onClick:_=>H(l.id)},null,8,["text","onClick"]),a(n,{square:"",type:"danger",text:e(u).translate("destroy"),onClick:_=>S(l.id)},null,8,["text","onClick"])]),key:"0"}:{name:"right",fn:i(()=>[a(n,{square:"",type:"danger",text:e(u).translate("delete"),onClick:_=>b(l.id)},null,8,["text","onClick"])]),key:"1"}]),1024))),128))]),_:1})])}}});export{be as default};
