import{s as Je}from"./Bw11CPOK.js";import{T as Ke,s as Xe}from"./De7bF0jp.js";import{b9 as ie,ba as Re,bb as ke,bc as qe,r as S,bd as Ge,ap as Qe,a7 as et,N as tt,be as Pe,a3 as j,p as V,a1 as M,aw as Ie,a2 as L,aB as Be,H as Z,l as k,aY as $e,k as Ne,az as at,v as B,a8 as Ae,b as w,a9 as le,aA as D,aa as H,ae as He,af as nt,aV as ae,F as ot,a0 as F,a4 as rt,a6 as st,au as be,ax as ce,aH as it,bf as ge,as as lt,ag as ct,aX as dt,aQ as ut,aq as ft,aZ as we,j as ht,bg as vt,bh as mt,bi as de,ac as yt,aK as bt,aR as gt,ah as Q,c as ne,w as I,I as R,o as W,ak as _e,al as pe,y as Ce,a as z,d as ee,t as E}from"./C5-unR8A.js";import{u as Le}from"./CtIwwDpM.js";import{a as wt,r as _t}from"./DfGDoUoe.js";import{u as ue}from"./BdLxnj8Y.js";import{o as pt}from"./BXPZbmyz.js";import{w as fe}from"./CqmJUeIp.js";import{s as Ct,a as xt}from"./DFM61iH2.js";import{a as Tt}from"./DRbOzoBI.js";import{c as St}from"./uRnIUuRV.js";import{B as Rt}from"./DEIA4b5u.js";import"./DeMFXbmw.js";/* empty css        *//* empty css        */import{u as oe,R as re}from"./DxQyyp-P.js";import{u as kt}from"./CPjOJWZh.js";import{P as xe}from"./50l81Nzm.js";import"./DPl71k4s.js";import"./CRXCwq06.js";import"./NvExoH8Z.js";import"./DQx6QDwE.js";import"./Ca5mAJ2I.js";import"./CM4--pTJ.js";function Pt(e,a,o){let s,u=0;const t=e.scrollLeft,r=o===0?1:Math.round(o*1e3/16);let i=t;function f(){Re(s)}function y(){i+=(a-t)/r,e.scrollLeft=i,++u<r&&(s=ie(y))}return y(),f}function It(e,a,o,s){let u,t=ke(e);const r=t<a,i=o===0?1:Math.round(o*1e3/16),f=(a-t)/i;function y(){Re(u)}function _(){t+=f,(r&&t>a||!r&&t<a)&&(t=a),qe(e,t),r&&t<a||!r&&t>a?u=ie(_):s&&(u=ie(s))}return _(),y}function Bt(){const e=S([]),a=[];return Ge(()=>{e.value=[]}),[e,s=>(a[s]||(a[s]=u=>{e.value[s]=u}),a[s])]}function Oe(e,a){if(!Qe||!window.IntersectionObserver)return;const o=new IntersectionObserver(t=>{a(t[0].intersectionRatio>0)},{root:document.body}),s=()=>{e.value&&o.observe(e.value)},u=()=>{e.value&&o.unobserve(e.value)};et(u),tt(u),Pe(s)}const[$t,Nt]=j("sticky"),At={zIndex:L,position:Ie("top"),container:Object,offsetTop:M(0),offsetBottom:M(0)};var Ht=V({name:$t,props:At,emits:["scroll","change"],setup(e,{emit:a,slots:o}){const s=S(),u=Be(s),t=Z({fixed:!1,width:0,height:0,transform:0}),r=S(!1),i=k(()=>$e(e.position==="top"?e.offsetTop:e.offsetBottom)),f=k(()=>{if(r.value)return;const{fixed:c,height:C,width:h}=t;if(c)return{width:`${h}px`,height:`${C}px`}}),y=k(()=>{if(!t.fixed||r.value)return;const c=Ne(at(e.zIndex),{width:`${t.width}px`,height:`${t.height}px`,[e.position]:`${i.value}px`});return t.transform&&(c.transform=`translate3d(0, ${t.transform}px, 0)`),c}),_=c=>a("scroll",{scrollTop:c,isFixed:t.fixed}),l=()=>{if(!s.value||le(s))return;const{container:c,position:C}=e,h=D(s),p=ke(window);if(t.width=h.width,t.height=h.height,C==="top")if(c){const v=D(c),b=v.bottom-i.value-t.height;t.fixed=i.value>h.top&&v.bottom>0,t.transform=b<0?b:0}else t.fixed=i.value>h.top;else{const{clientHeight:v}=document.documentElement;if(c){const b=D(c),m=v-b.top-i.value-t.height;t.fixed=v-i.value<h.bottom&&v>b.top,t.transform=m<0?-m:0}else t.fixed=v-i.value<h.bottom}_(p)};return B(()=>t.fixed,c=>a("change",c)),Ae("scroll",l,{target:u,passive:!0}),Oe(s,l),B([He,nt],()=>{!s.value||le(s)||!t.fixed||(r.value=!0,H(()=>{const c=D(s);t.width=c.width,t.height=c.height,r.value=!1}))}),()=>{var c;return w("div",{ref:s,style:f.value},[w("div",{class:Nt({fixed:t.fixed&&!r.value}),style:y.value},[(c=o.default)==null?void 0:c.call(o)])])}}});const Lt=fe(Ht),Ot=fe(Ct),[zt,Te]=j("tabs");var Et=V({name:zt,props:{count:ae(Number),inited:Boolean,animated:Boolean,duration:ae(L),swipeable:Boolean,lazyRender:Boolean,currentIndex:ae(Number)},emits:["change"],setup(e,{emit:a,slots:o}){const s=S(),u=i=>a("change",i),t=()=>{var i;const f=(i=o.default)==null?void 0:i.call(o);return e.animated||e.swipeable?w(Ot,{ref:s,loop:!1,class:Te("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:u},{default:()=>[f]}):f},r=i=>{const f=s.value;f&&f.state.active!==i&&f.swipeTo(i,{immediate:!e.inited})};return B(()=>e.currentIndex,r),ot(()=>{r(e.currentIndex)}),ue({swipeRef:s}),()=>w("div",{class:Te("content",{animated:e.animated||e.swipeable})},[t()])}});const[ze,te]=j("tabs"),Mt={type:Ie("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:M(0),duration:M(.3),animated:Boolean,ellipsis:F,swipeable:Boolean,scrollspy:Boolean,offsetTop:M(0),background:String,lazyRender:F,showHeader:F,lineWidth:L,lineHeight:L,beforeChange:Function,swipeThreshold:M(5),titleActiveColor:String,titleInactiveColor:String},Ee=Symbol(ze);var Dt=V({name:ze,props:Mt,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:a,slots:o}){let s,u,t,r,i;const f=S(),y=S(),_=S(),l=S(),c=Le(),C=Be(f),[h,p]=Bt(),{children:v,linkChildren:b}=rt(Ee),m=Z({inited:!1,position:"",lineStyle:{},currentIndex:-1}),N=k(()=>v.length>+e.swipeThreshold||!e.ellipsis||e.shrink),J=k(()=>({borderColor:e.color,background:e.background})),U=(n,d)=>{var g;return(g=n.name)!=null?g:d},K=k(()=>{const n=v[m.currentIndex];if(n)return U(n,m.currentIndex)}),O=k(()=>$e(e.offsetTop)),he=k(()=>e.sticky?O.value+s:0),Y=n=>{const d=y.value,g=h.value;if(!N.value||!d||!g||!g[m.currentIndex])return;const T=g[m.currentIndex].$el,x=T.offsetLeft-(d.offsetWidth-T.offsetWidth)/2;r&&r(),r=Pt(d,x,n?0:+e.duration)},$=()=>{const n=m.inited;H(()=>{const d=h.value;if(!d||!d[m.currentIndex]||e.type!=="line"||le(f.value))return;const g=d[m.currentIndex].$el,{lineWidth:T,lineHeight:x}=e,P=g.offsetLeft+g.offsetWidth/2,A={width:be(T),backgroundColor:e.color,transform:`translateX(${P}px) translateX(-50%)`};if(n&&(A.transitionDuration=`${e.duration}s`),ce(x)){const G=be(x);A.height=G,A.borderRadius=G}m.lineStyle=A})},Me=n=>{const d=n<m.currentIndex?-1:1;for(;n>=0&&n<v.length;){if(!v[n].disabled)return n;n+=d}},X=(n,d)=>{const g=Me(n);if(!ce(g))return;const T=v[g],x=U(T,g),P=m.currentIndex!==null;m.currentIndex!==g&&(m.currentIndex=g,d||Y(),$()),x!==e.active&&(a("update:active",x),P&&a("change",x,T.title)),t&&!e.scrollspy&&it(Math.ceil(ge(f.value)-O.value))},q=(n,d)=>{const g=v.findIndex((T,x)=>U(T,x)===n);X(g===-1?0:g,d)},ve=(n=!1)=>{if(e.scrollspy){const d=v[m.currentIndex].$el;if(d&&C.value){const g=ge(d,C.value)-he.value;u=!0,i&&i(),i=It(C.value,g,n?0:+e.duration,()=>{u=!1})}}},De=(n,d,g)=>{const{title:T,disabled:x}=v[d],P=U(v[d],d);x||(St(e.beforeChange,{args:[P],done:()=>{X(d),ve()}}),wt(n)),a("clickTab",{name:P,title:T,event:g,disabled:x})},Ve=n=>{t=n.isFixed,a("scroll",n)},Ue=n=>{H(()=>{q(n),ve(!0)})},Ye=()=>{for(let n=0;n<v.length;n++){const{top:d}=D(v[n].$el);if(d>he.value)return n===0?0:n-1}return v.length-1},We=()=>{if(e.scrollspy&&!u){const n=Ye();X(n)}},Ze=()=>{if(e.type==="line"&&v.length)return w("div",{class:te("line"),style:m.lineStyle},null)},me=()=>{var n,d,g;const{type:T,border:x,sticky:P}=e,A=[w("div",{ref:P?void 0:_,class:[te("wrap"),{[Tt]:T==="line"&&x}]},[w("div",{ref:y,role:"tablist",class:te("nav",[T,{shrink:e.shrink,complete:N.value}]),style:J.value,"aria-orientation":"horizontal"},[(n=o["nav-left"])==null?void 0:n.call(o),v.map(G=>G.renderTitle(De)),Ze(),(d=o["nav-right"])==null?void 0:d.call(o)])]),(g=o["nav-bottom"])==null?void 0:g.call(o)];return P?w("div",{ref:_},[A]):A},ye=()=>{$(),H(()=>{var n,d;Y(!0),(d=(n=l.value)==null?void 0:n.swipeRef.value)==null||d.resize()})};B(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],$),B(He,ye),B(()=>e.active,n=>{n!==K.value&&q(n)}),B(()=>v.length,()=>{m.inited&&(q(e.active),$(),H(()=>{Y(!0)}))});const Fe=()=>{q(e.active,!0),H(()=>{m.inited=!0,_.value&&(s=D(_.value).height),Y(!0)})},je=(n,d)=>a("rendered",n,d);return ue({resize:ye,scrollTo:Ue}),st($),pt($),Pe(Fe),Oe(f,$),Ae("scroll",We,{target:C,passive:!0}),b({id:c,props:e,setLine:$,scrollable:N,onRendered:je,currentName:K,setTitleRefs:p,scrollIntoView:Y}),()=>w("div",{ref:f,class:te([e.type])},[e.showHeader?e.sticky?w(Lt,{container:f.value,offsetTop:O.value,onScroll:Ve},{default:()=>[me()]}):me():null,w(Et,{ref:l,count:v.length,inited:m.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:m.currentIndex,onChange:X},{default:()=>{var n;return[(n=o.default)==null?void 0:n.call(o)]}})])}});const[Vt,Se]=j("tab"),Ut=V({name:Vt,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:L,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:F},setup(e,{slots:a}){const o=k(()=>{const u={},{type:t,color:r,disabled:i,isActive:f,activeColor:y,inactiveColor:_}=e;r&&t==="card"&&(u.borderColor=r,i||(f?u.backgroundColor=r:u.color=r));const c=f?y:_;return c&&(u.color=c),u}),s=()=>{const u=w("span",{class:Se("text",{ellipsis:!e.scrollable})},[a.title?a.title():e.title]);return e.dot||ce(e.badge)&&e.badge!==""?w(Rt,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[u]}):u};return()=>w("div",{id:e.id,role:"tab",class:[Se([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:o.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls,"data-allow-mismatch":"attribute"},[s()])}}),Yt=fe(xt),[Wt,se]=j("tab"),Zt=Ne({},_t,{dot:Boolean,name:L,badge:L,title:String,disabled:Boolean,titleClass:lt,titleStyle:[String,Object],showZeroBadge:F});var Ft=V({name:Wt,props:Zt,setup(e,{slots:a}){const o=Le(),s=S(!1),u=ht(),{parent:t,index:r}=ct(Ee);if(!t)return;const i=()=>{var h;return(h=e.name)!=null?h:r.value},f=()=>{s.value=!0,t.props.lazyRender&&H(()=>{t.onRendered(i(),e.title)})},y=k(()=>{const h=i()===t.currentName.value;return h&&!s.value&&f(),h}),_=S(""),l=S("");dt(()=>{const{titleClass:h,titleStyle:p}=e;_.value=h?vt(h):"",l.value=p&&typeof p!="string"?mt(de(p)):p});const c=h=>w(Ut,ft({key:o,id:`${t.id}-${r.value}`,ref:t.setTitleRefs(r.value),style:l.value,class:_.value,isActive:y.value,controls:o,scrollable:t.scrollable.value,activeColor:t.props.titleActiveColor,inactiveColor:t.props.titleInactiveColor,onClick:p=>h(u.proxy,r.value,p)},we(t.props,["type","color","shrink"]),we(e,["dot","badge","title","disabled","showZeroBadge"])),{title:a.title}),C=S(!y.value);return B(y,h=>{h?C.value=!1:yt(()=>{C.value=!0})}),B(()=>e.title,()=>{t.setLine(),t.scrollIntoView()}),bt(Ke,y),ue({id:o,renderTitle:c}),()=>{var h;const p=`${t.id}-${r.value}`,{animated:v,swipeable:b,scrollspy:m,lazyRender:N}=t.props;if(!a.default&&!v)return;const J=m||y.value;if(v||b)return w(Yt,{id:o,role:"tabpanel",class:se("panel-wrapper",{inactive:C.value}),tabindex:y.value?0:-1,"aria-hidden":!y.value,"aria-labelledby":p,"data-allow-mismatch":"attribute"},{default:()=>{var O;return[w("div",{class:se("panel")},[(O=a.default)==null?void 0:O.call(a)])]}});const K=s.value||m||!N?(h=a.default)==null?void 0:h.call(a):null;return ut(w("div",{id:o,role:"tabpanel",class:se("panel"),tabindex:J?0:-1,"aria-labelledby":p,"data-allow-mismatch":"attribute"},[K]),[[gt,J]])}}});const jt={class:"flex items-center gap-1 mt-1"},Jt={class:"custom-title"},Kt={class:"flex items-center gap-1 mt-1"},Xt={class:"custom-title"},pa=V({__name:"prayers",async setup(e){let a,o;const s=S(0),u=kt(),t=S(10),r=Z({contacts:!1,churches:!1}),i=Z({contacts:!1,churches:!1}),f={prayers:([a,o]=Q(()=>oe(re.SETTINGS_PRAYERS)),a=await a,o(),a),contactPrayerCount:([a,o]=Q(()=>oe(re.CONTACT_PRAYER_COUNT)),a=await a,o(),a),churchPrayerCount:([a,o]=Q(()=>oe(re.CHURCH_PRAYER_COUNT)),a=await a,o(),a)},y={handle:{click:{contactPrayerCount:async l=>{if(l.user_has_prayed)return;await f.contactPrayerCount.save({contact_id:l.id})&&(l.user_has_prayed=!0,l.prayer_count+=1)},churchPrayerCount:async l=>{if(l.user_has_prayed)return;await f.churchPrayerCount.save({church_id:l.id})&&(l.user_has_prayed=!0,l.prayer_count+=1)}},formattedPrayerCount:l=>l.user_has_prayed?l.prayer_count===1?"You prayed for this":l.prayer_count===2?"You and 1 other prayed for this":`You and ${l.prayer_count-1} others prayed for this`:l.prayer_count===1?"1 person prayed for this":l.prayer_count===0?"No one prayed for this":`${l.prayer_count} people prayed for this`,loadMoreContacts:async()=>{r.contacts=!0,t.value+=t.value;const l=await f.prayers.browse({with:JSON.stringify(t.value)});_.prayers.contactPrayers.length===l.contactPrayers.length?i.contacts=!0:_.prayers.contactPrayers=l.contactPrayers,r.contacts=!1},loadMoreChurches:async()=>{r.churches=!0,t.value+=t.value;const l=await f.prayers.browse({with:JSON.stringify(t.value)});_.prayers.churchPrayers.length===l.churchPrayers.length?i.churches=!0:_.prayers.churchPrayers=l.churchPrayers,r.churches=!1}}},_=Z({prayers:{}});return _.prayers=([a,o]=Q(()=>f.prayers.browse({with:JSON.stringify(t.value)})),a=await a,o(),a),console.log("Current  Prayer",_.prayers),(l,c)=>{const C=Je,h=Xe,p=Ft,v=Dt;return W(),ne("div",null,[w(v,{active:R(s),style:{"margin-top":"46px"}},{default:I(()=>[w(p,{title:R(u).translate("contacts"),name:"contacts"},{default:I(()=>[w(h,{loading:R(r).contacts,"onUpdate:loading":c[0]||(c[0]=b=>R(r).contacts=b),finished:R(i).contacts,"finished-text":"No More Data",onLoad:y.handle.loadMoreContacts},{default:I(()=>[(W(!0),ne(_e,null,pe(R(_).prayers.contactPrayers,(b,m)=>(W(),Ce(C,{key:m},{title:I(()=>[ee(E(b.name),1)]),label:I(()=>[z("div",null,[ee(E(b.current_prayers)+" ",1),z("div",jt,[w(R(xe),{style:de({color:b.user_has_prayed?"#17badf":"#fff",width:"18px",height:"18px",paddingRight:"10px",paddingTop:"10px"}),onClick:N=>y.handle.click.contactPrayerCount(b)},null,8,["style","onClick"]),z("span",Jt,E(y.handle.formattedPrayerCount(b)),1)])])]),_:2},1024))),128))]),_:1},8,["loading","finished","onLoad"])]),_:1},8,["title"]),w(p,{title:R(u).translate("churches"),name:"churches"},{default:I(()=>[w(h,{loading:R(r).churches,"onUpdate:loading":c[1]||(c[1]=b=>R(r).churches=b),finished:R(i).churches,"finished-text":"No More Data",onLoad:y.handle.loadMoreChurches},{default:I(()=>[(W(!0),ne(_e,null,pe(R(_).prayers.churchPrayers,(b,m)=>(W(),Ce(C,{key:m},{title:I(()=>[ee(E(b.name),1)]),label:I(()=>[z("div",null,[ee(E(b.current_prayers)+" ",1),z("div",Kt,[w(R(xe),{style:de({color:b.user_has_prayed?"#17badf":"#fff",width:"18px",height:"18px",paddingRight:"10px",paddingTop:"10px"}),onClick:N=>y.handle.click.churchPrayerCount(b)},null,8,["style","onClick"]),z("span",Xt,E(y.handle.formattedPrayerCount(b)),1)])])]),_:2},1024))),128))]),_:1},8,["loading","finished","onLoad"])]),_:1},8,["title"])]),_:1},8,["active"])])}}});export{pa as default};
