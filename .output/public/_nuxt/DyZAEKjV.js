import{s as f}from"./Dm1rIfN4.js";import{p as g,g as _,r as y,c as k,b as h,w as O,n as T,o as C,d as L,t as P,m as M}from"./u6fC7tWD.js";import{R as s,u as N}from"./FkBlke4I.js";import{u,a as w}from"./CAaF2NtV.js";import{u as c}from"./B2guJTyt.js";import{u as E,a as R}from"./BnRcINYl.js";import{u as G}from"./CoKn23AU.js";import{_ as I}from"./DlAUqK2U.js";import"./CTlEqAmN.js";import"./D7MUQNqq.js";import"./GtHPCvl_.js";import"./DFnIe-CS.js";import"./Cjt3Mm07.js";import"./C_9SK_o9.js";const x=g("communities",()=>{const m=JSON.parse(localStorage.getItem("communities")||"{}"),n=JSON.parse(localStorage.getItem("communityChecklists")||"{}");return{communities:m,communityChecklists:n}}),A={class:"wrap"},U=_({__name:"splash",setup(m){const n=o=>new Promise(a=>setTimeout(a,o)),e=y({completedModules:[],currentTaskText:"",defaultStoreOptions:{isPersist:!0},stores:{languages:u(),settings:c()},logoLoaded:!1}),t={all:!0},p=[["User Roles",s.USERS_ROLES,"userRoles",{...e.defaultStoreOptions,key:"userRoles",storeState:w().userRoles},{...t,whereNotIn:{key:"id",value:[1,2]}}],["Languages",s.LANGUAGES,"languages",{...e.defaultStoreOptions,key:"languages",storeState:u().languages},{...t,with:JSON.stringify(["translations"])}],["Language Words",s.LANGUAGE_WORDS,"languageWords",{...e.defaultStoreOptions,key:"languageWords",storeState:u().words},t],["Statuses",s.SETTINGS_STATUSES,"statuses",{...e.defaultStoreOptions,key:"statuses",storeState:c().statuses},t],["People Groups",s.PEOPLE_GROUPS,"peopleGroups",{...e.defaultStoreOptions,key:"peopleGroups",storeState:E().peopleGroups},t],["Communication Platforms",s.COMMUNICATION_PLATFORMS,"communicationPlatforms",{...e.defaultStoreOptions,key:"communicationPlatforms",storeState:G().communicationPlatforms},t],["Community Checklists",s.COMMUNITY_CHECKLISTS,"communityChecklists",{...e.defaultStoreOptions,key:"communityChecklists",storeState:x().communityChecklists},t],["Faith Milestones",s.FAITH_MILESTONES,"faithMilestones",{...e.defaultStoreOptions,key:"faithMilestones",storeState:R().faithMilestones},t]],S=async()=>{for(const[o,a,r,i,l]of p)e.currentTaskText=`Fetching ${o}...`,await d(o,a,l,{...e.defaultStoreOptions,key:r,store:i}),await n(500),e.logoLoaded||(e.logoLoaded=!0);T("/landing")},d=async(o,a,r,i)=>{await N(a).browse(r,i),e.completedModules.push(o),o==="Community Checklists"&&(e.currentTaskText="Redirecting . . . ")};return S(),(o,a)=>{const r=f;return C(),k("div",A,[h(r,{vertical:""},{default:O(()=>[L(P(M(e).currentTaskText),1)]),_:1})])}}}),z=I(U,[["__scopeId","data-v-e98027db"]]);export{z as default};
