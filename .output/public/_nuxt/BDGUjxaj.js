import{s as _,a as b}from"./xiqWYujk.js";import{s as g}from"./CQv1B_1X.js";import{s as N}from"./DF4lQv8P.js";import{s as h}from"./C8hqzCVS.js";import{g as y,I,r as w,y as v,c as V,b as o,w as n,o as x,l as r,d as C}from"./DKR7rnFD.js";import"./CLQQzZQu.js";import"./B4QuhD7t.js";import{s as E}from"./Xv9xj99t.js";import{u as K}from"./D-NIYCCj.js";import"./DfeQPru4.js";import"./CSgqSfYb.js";import"./CwZVdGtE.js";import"./Gen6pDYg.js";import"./ziHtv4gY.js";import"./BeGGLEH8.js";import"./D-U999CT.js";import"./LJlO2nor.js";import"./DF5gDfHK.js";const W=y({__name:"delete-pin",setup(S){const i=I(),a=K(),e=w({form:{currentPin:""},currentPinError:"",show:{currentPinKeyboard:!1}}),s={handle:{focus:{currentPin:()=>{e.show.currentPinKeyboard=!0}},blur:{currentPin:()=>{e.show.currentPinKeyboard=!1,e.form.currentPin.length===4&&e.form.currentPin!==localStorage.getItem("PINNumber")?e.currentPinError="Incorrect PIN":e.currentPinError=""}}}},u=v(()=>e.form.currentPin.length===4&&e.form.currentPin===localStorage.getItem("PINNumber")),l=()=>{u.value&&(localStorage.removeItem("PINNumber"),a.setApplicationMask(!1),E({type:"success",message:"PIN removed successfully",duration:2e3}),setTimeout(()=>{i.push("/settings/security")},300))};return(k,t)=>{const c=_,m=b,d=g,p=N,f=h;return x(),V("div",null,[o(d,{title:"Enter PIN to remove",style:{"padding-top":"10px","padding-bottom":"10px"}},{default:n(()=>[o(c,{value:r(e).form.currentPin,focused:r(e).show.currentPinKeyboard,"error-info":r(e).currentPinError,length:"4",onFocus:s.handle.focus.currentPin},null,8,["value","focused","error-info","onFocus"]),o(m,{modelValue:r(e).form.currentPin,"onUpdate:modelValue":t[0]||(t[0]=P=>r(e).form.currentPin=P),show:r(e).show.currentPinKeyboard,onBlur:s.handle.blur.currentPin},null,8,["modelValue","show","onBlur"])]),_:1}),o(f,null,{default:n(()=>[o(p,{block:"",type:"danger",disabled:!r(u),onClick:l},{default:n(()=>t[1]||(t[1]=[C(" Remove PIN ")])),_:1},8,["disabled"])]),_:1})])}}});export{W as default};
