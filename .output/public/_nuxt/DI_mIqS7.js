import{g as O,q as D,s as A,m as E,B as Y,b as s,G as U,E as J,y as p,p as Z,aj as ee,C as H,r as j,aP as te,am as ne,an as oe,af as ae,aQ as K,aR as le,D as se,a9 as re,ag as L,aS as ce,a7 as ie,ay as ue,ax as de}from"./DKR7rnFD.js";import{b as fe,p as me,P as ge}from"./Xv9xj99t.js";import{s as he}from"./DF4lQv8P.js";import{w as N}from"./Gen6pDYg.js";import{u as Be}from"./DGQ9UJ72.js";import{u as q}from"./D-U999CT.js";import{u as ve,a as be}from"./BeGGLEH8.js";import{a as Ce,b as we}from"./DfeQPru4.js";import{c as G}from"./DF5gDfHK.js";import{u as ye}from"./CSgqSfYb.js";const[Q,z]=A("action-bar"),V=Symbol(Q),ke={placeholder:Boolean,safeAreaInsetBottom:D};var Pe=O({name:Q,props:ke,setup(e,{slots:u}){const l=E(),o=Be(l,z),{linkChildren:a}=Y(V);a();const m=()=>{var d;return s("div",{ref:l,class:[z(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[(d=u.default)==null?void 0:d.call(u)])};return()=>e.placeholder?o(m):m()}});const Se=N(Pe),W=N(he),[Te,xe]=A("action-bar-button"),Ee=U({},be,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var Re=O({name:Te,props:Ee,setup(e,{slots:u}){const l=ve(),{parent:o,index:a}=J(V),m=p(()=>{if(o){const r=o.children[a.value-1];return!(r&&"isButton"in r)}}),d=p(()=>{if(o){const r=o.children[a.value+1];return!(r&&"isButton"in r)}});return q({isButton:!0}),()=>{const{type:r,icon:v,text:b,color:c,loading:C,disabled:y}=e;return s(W,{class:xe([r,{last:d.value,first:m.value}]),size:"large",type:r,icon:v,color:c,loading:C,disabled:y,onClick:l},{default:()=>[u.default?u.default():b]})}}});const M=N(Re),[_e,h,_]=A("dialog"),De=U({},fe,{title:String,theme:String,width:H,message:[String,Function],callback:Function,allowHtml:Boolean,className:ee,transition:Z("van-dialog-bounce"),messageAlign:String,closeOnPopstate:D,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:D,closeOnClickOverlay:Boolean,keyboardEnabled:D,destroyOnClose:Boolean}),pe=[...me,"transition","closeOnPopstate","destroyOnClose"];var Ue=O({name:_e,props:De,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:u,slots:l}){const o=E(),a=j({confirm:!1,cancel:!1}),m=n=>u("update:show",n),d=n=>{var i;m(!1),(i=e.callback)==null||i.call(e,n)},r=n=>()=>{e.show&&(u(n),e.beforeClose?(a[n]=!0,G(e.beforeClose,{args:[n],done(){d(n),a[n]=!1},canceled(){a[n]=!1}})):d(n))},v=r("cancel"),b=r("confirm"),c=te(n=>{var i,B;if(!e.keyboardEnabled||n.target!==((B=(i=o.value)==null?void 0:i.popupRef)==null?void 0:B.value))return;({Enter:e.showConfirmButton?b:K,Escape:e.showCancelButton?v:K})[n.key](),u("keydown",n)},["enter","esc"]),C=()=>{const n=l.title?l.title():e.title;if(n)return s("div",{class:h("header",{isolated:!e.message&&!l.default})},[n])},y=n=>{const{message:i,allowHtml:B,messageAlign:g}=e,w=h("message",{"has-title":n,[g]:g}),k=le(i)?i():i;return B&&typeof k=="string"?s("div",{class:w,innerHTML:k},null):s("div",{class:w},[k])},S=()=>{if(l.default)return s("div",{class:h("content")},[l.default()]);const{title:n,message:i,allowHtml:B}=e;if(i){const g=!!(n||l.title);return s("div",{key:B?1:0,class:h("content",{isolated:!g})},[y(g)])}},T=()=>s("div",{class:[we,h("footer")]},[e.showCancelButton&&s(W,{size:"large",text:e.cancelButtonText||_("cancel"),class:h("cancel"),style:{color:e.cancelButtonColor},loading:a.cancel,disabled:e.cancelButtonDisabled,onClick:v},null),e.showConfirmButton&&s(W,{size:"large",text:e.confirmButtonText||_("confirm"),class:[h("confirm"),{[Ce]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:a.confirm,disabled:e.confirmButtonDisabled,onClick:b},null)]),R=()=>s(Se,{class:h("footer")},{default:()=>[e.showCancelButton&&s(M,{type:"warning",text:e.cancelButtonText||_("cancel"),class:h("cancel"),color:e.cancelButtonColor,loading:a.cancel,disabled:e.cancelButtonDisabled,onClick:v},null),e.showConfirmButton&&s(M,{type:"danger",text:e.confirmButtonText||_("confirm"),class:h("confirm"),color:e.confirmButtonColor,loading:a.confirm,disabled:e.confirmButtonDisabled,onClick:b},null)]}),x=()=>l.footer?l.footer():e.theme==="round-button"?R():T();return()=>{const{width:n,title:i,theme:B,message:g,className:w}=e;return s(ge,ne({ref:o,role:"dialog",class:[h([B]),w],style:{width:ae(n)},tabindex:0,"aria-labelledby":i||g,onKeydown:c,"onUpdate:show":m},oe(e,pe)),{default:()=>[C(),S(),x()]})}}});const[Oe,$]=A("swipe-cell"),Ae={name:se(""),disabled:Boolean,leftWidth:H,rightWidth:H,beforeClose:Function,stopPropagation:Boolean};var je=O({name:Oe,props:Ae,emits:["open","close","click"],setup(e,{emit:u,slots:l}){let o,a,m,d;const r=E(),v=E(),b=E(),c=j({offset:0,dragging:!1}),C=ye(),y=t=>t.value?re(t).width:0,S=p(()=>L(e.leftWidth)?+e.leftWidth:y(v)),T=p(()=>L(e.rightWidth)?+e.rightWidth:y(b)),R=t=>{c.offset=t==="left"?S.value:-T.value,o||(o=!0,u("open",{name:e.name,position:t}))},x=t=>{c.offset=0,o&&(o=!1,u("close",{name:e.name,position:t}))},n=t=>{const f=Math.abs(c.offset),P=.15,X=o?1-P:P,I=t==="left"?S.value:T.value;I&&f>I*X?R(t):x(t)},i=t=>{e.disabled||(m=c.offset,C.start(t))},B=t=>{if(e.disabled)return;const{deltaX:f}=C;C.move(t),C.isHorizontal()&&(a=!0,c.dragging=!0,(!o||f.value*m<0)&&ue(t,e.stopPropagation),c.offset=de(f.value+m,-T.value,S.value))},g=()=>{c.dragging&&(c.dragging=!1,n(c.offset>0?"left":"right"),setTimeout(()=>{a=!1},0))},w=(t="outside",f)=>{d||(u("click",t),o&&!a&&(d=!0,G(e.beforeClose,{args:[{event:f,name:e.name,position:t}],done:()=>{d=!1,x(t)},canceled:()=>d=!1,error:()=>d=!1})))},k=t=>f=>{(a||o)&&f.stopPropagation(),!a&&w(t,f)},F=(t,f)=>{const P=l[t];if(P)return s("div",{ref:f,class:$(t),onClick:k(t)},[P()])};return q({open:R,close:x}),ce(r,t=>w("outside",t),{eventName:"touchstart"}),ie("touchmove",B,{target:r}),()=>{var t;const f={transform:`translate3d(${c.offset}px, 0, 0)`,transitionDuration:c.dragging?"0s":".6s"};return s("div",{ref:r,class:$(),onClick:k("cell"),onTouchstartPassive:i,onTouchend:g,onTouchcancel:g},[s("div",{class:$("wrapper"),style:f},[F("left",v),(t=l.default)==null?void 0:t.call(l),F("right",b)])])}}});export{je as a,Ue as s};
