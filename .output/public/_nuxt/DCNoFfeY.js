import{s as _,a as b}from"./B-R195wI.js";import{s as g}from"./sm_BGTV-.js";import{s as h}from"./DLRAkl61.js";import{s as y}from"./BqV7Ghxx.js";import{g as w,H as v,j as V,r as N,p as C,c as x,b as t,w as i,o as E,s as e,d as I}from"./BcM8nbUc.js";import"./C1587OLP.js";import"./BZvMXGx7.js";import{s as K}from"./CbYSZLda.js";import{u as k}from"./ZXv_2jnj.js";import"./DfeQPru4.js";import"./D4r7wC-U.js";import"./DQZbwPUK.js";import"./1cSE0txk.js";import"./B4-co7sM.js";import"./wzS7IZBv.js";import"./B7B4zphO.js";import"./CQbdaxH3.js";import"./DGqFMbKC.js";import"./C2uxVfP1.js";const Y=w({__name:"delete-pin",setup(B){const a=v(),o=k();V(async()=>{await o.loadFromSecureStorage()});const r=N({form:{currentPin:""},currentPinError:"",show:{currentPinKeyboard:!1}}),u={handle:{focus:{currentPin:()=>{r.show.currentPinKeyboard=!0}},blur:{currentPin:()=>{r.show.currentPinKeyboard=!1,r.form.currentPin.length===4&&r.form.currentPin!==o.pinCode?r.currentPinError="Incorrect PIN":r.currentPinError=""}}}},s=C(()=>r.form.currentPin.length===4&&r.form.currentPin===o.pinCode),c=()=>{console.log(s.value),s.value&&(o.removePinNumber(),o.setApplicationMask(!1),K({type:"success",message:"PIN removed successfully",duration:2e3}),setTimeout(()=>{a.push("/settings/security")},300))};return(S,n)=>{const l=_,m=b,d=g,p=h,f=y;return E(),x("div",null,[t(d,{title:"Enter PIN to remove",style:{"padding-top":"10px","padding-bottom":"10px"}},{default:i(()=>[t(l,{value:e(r).form.currentPin,focused:e(r).show.currentPinKeyboard,"error-info":e(r).currentPinError,length:"4",onFocus:u.handle.focus.currentPin},null,8,["value","focused","error-info","onFocus"]),t(m,{modelValue:e(r).form.currentPin,"onUpdate:modelValue":n[0]||(n[0]=P=>e(r).form.currentPin=P),show:e(r).show.currentPinKeyboard,onBlur:u.handle.blur.currentPin},null,8,["modelValue","show","onBlur"])]),_:1}),t(f,null,{default:i(()=>[t(p,{block:"",type:"danger",disabled:!e(s),onClick:c},{default:i(()=>n[1]||(n[1]=[I(" Remove PIN ")])),_:1},8,["disabled"])]),_:1})])}}});export{Y as default};
