import{s as p,a as P}from"./ByHm3iDH.js";import{q as _,B as h,C as y,D as w,x as b,c as v,o as I,a as s,b as i}from"./CgLqU3VH.js";import"./DVh_DFyP.js";import{u as a}from"./CeW0OJJ0.js";import{u as g}from"./DxxVmql2.js";import{_ as K}from"./DlAUqK2U.js";import"./DRbOzoBI.js";import"./qRfUb8lo.js";import"./D8ZCcbxd.js";import"./CswrCj-5.js";import"./CwZMPUJj.js";import"./BDi8VCzM.js";const V={class:"pin-container"},B=_({__name:"pin",setup(S){h(async()=>{await a().loadFromSecureStorage()});const c=y(),f=a(),e=g(),o=w({form:{confirmPin:""},show:{confirmPinKeyboard:!1},errorInfo:""}),m={handle:{focus:{confirmPin:()=>{o.show.confirmPinKeyboard=!0}}}};b(()=>o.form.confirmPin,n=>{n.length===4&&l(n)});async function l(n){try{const r=f.pinCode;n===r?c.push("/splash"):(o.errorInfo=e.translate("incorrect_pin")==""?"Incorrect PIN":e.translate("incorrect_pin"),o.form.confirmPin="")}catch(r){console.log(r),o.errorInfo=e.translate("error_occurred")==""?"Error Occurred":e.translate("error_occurred"),o.form.confirmPin=""}}return(n,r)=>{const d=p,u=P;return I(),v("div",V,[r[2]||(r[2]=s("div",{class:"pin-header"},[s("h2",null," Enter Pin ")],-1)),i(d,{value:o.form.confirmPin,focused:o.show.confirmPinKeyboard,"error-info":o.errorInfo,length:"4",onFocus:m.handle.focus.confirmPin},null,8,["value","focused","error-info","onFocus"]),i(u,{modelValue:o.form.confirmPin,"onUpdate:modelValue":r[0]||(r[0]=t=>o.form.confirmPin=t),show:o.show.confirmPinKeyboard,onBlur:r[1]||(r[1]=t=>o.show.confirmPinKeyboard=!1)},null,8,["modelValue","show"])])}}}),R=K(B,[["__scopeId","data-v-f02cf7ac"]]);export{R as default};
